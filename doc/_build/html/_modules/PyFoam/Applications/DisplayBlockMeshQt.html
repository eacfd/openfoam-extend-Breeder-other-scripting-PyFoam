

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>PyFoam.Applications.DisplayBlockMeshQt &mdash; PyFoam 0.6.11-development documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="PyFoam 0.6.11-development documentation" href="../../../index.html"/>
        <link rel="up" title="PyFoam" href="../../PyFoam.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> PyFoam
          

          
          </a>

          
            
            
              <div class="version">
                0.6.11
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../api/modules.html">API documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">PyFoam</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">Module code</a> &raquo;</li>
        
          <li><a href="../../PyFoam.html">PyFoam</a> &raquo;</li>
        
      <li>PyFoam.Applications.DisplayBlockMeshQt</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for PyFoam.Applications.DisplayBlockMeshQt</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">New implementation of DisplayBlockMesh using PyQT4</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">PyFoam.RunDictionary.ParsedBlockMeshDict</span> <span class="kn">import</span> <span class="n">ParsedBlockMeshDict</span>
<span class="kn">from</span> <span class="nn">PyFoam.RunDictionary.ParsedParameterFile</span> <span class="kn">import</span> <span class="n">ParsedParameterFile</span>
<span class="kn">from</span> <span class="nn">PyFoam.Applications.PyFoamApplicationQt4</span> <span class="kn">import</span> <span class="n">PyFoamApplicationQt4</span>
<span class="kn">from</span> <span class="nn">PyFoam.Error</span> <span class="kn">import</span> <span class="n">error</span><span class="p">,</span><span class="n">warning</span>
<span class="kn">from</span> <span class="nn">PyFoam.RunDictionary.SolutionDirectory</span> <span class="kn">import</span> <span class="n">NoTouchSolutionDirectory</span>
<span class="kn">from</span> <span class="nn">PyFoam.Execution.BasicRunner</span> <span class="kn">import</span> <span class="n">BasicRunner</span>
<span class="kn">from</span> <span class="nn">PyFoam.Basics.TemplateFile</span> <span class="kn">import</span> <span class="n">TemplateFile</span>

<span class="kn">from</span> <span class="nn">.CommonTemplateFormat</span> <span class="kn">import</span> <span class="n">CommonTemplateFormat</span>

<span class="kn">from</span> <span class="nn">os</span> <span class="kn">import</span> <span class="n">path</span>
<span class="kn">from</span> <span class="nn">optparse</span> <span class="kn">import</span> <span class="n">OptionGroup</span>

<span class="kn">from</span> <span class="nn">PyFoam.ThirdParty.six</span> <span class="kn">import</span> <span class="n">print_</span><span class="p">,</span><span class="n">PY3</span>

<span class="kn">import</span> <span class="nn">sys</span>

<div class="viewcode-block" id="doImports"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.doImports">[docs]</a><span class="k">def</span> <span class="nf">doImports</span><span class="p">():</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">PY3</span><span class="p">:</span>
        <span class="n">error</span><span class="p">(</span><span class="s2">&quot;This utility does not support Python 2.x&quot;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">global</span> <span class="n">QtGui</span><span class="p">,</span><span class="n">QtCore</span>
        <span class="kn">from</span> <span class="nn">PyQt4</span> <span class="kn">import</span> <span class="n">QtGui</span><span class="p">,</span><span class="n">QtCore</span>
        <span class="k">global</span> <span class="n">vtk</span>

        <span class="k">global</span> <span class="n">usedVTK</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="kn">import</span> <span class="nn">vtk</span>
            <span class="n">usedVTK</span><span class="o">=</span><span class="s2">&quot;Using system-VTK&quot;</span>
        <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
            <span class="n">usedVTK</span><span class="o">=</span><span class="s2">&quot;Trying VTK implementation from Paraview&quot;</span>
            <span class="kn">from</span> <span class="nn">paraview</span> <span class="kn">import</span> <span class="n">vtk</span>

        <span class="k">global</span> <span class="n">vtkVersion</span>
        <span class="n">vtkVersion</span><span class="o">=</span><span class="n">vtk</span><span class="o">.</span><span class="n">VTK_MAJOR_VERSION</span>
        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;VTK version&quot;</span><span class="p">,</span><span class="n">vtkVersion</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">vtkVersion</span><span class="o">==</span><span class="mi">7</span><span class="p">:</span>
            <span class="c1"># currently the only supported VTK</span>
            <span class="k">pass</span>
        <span class="k">elif</span> <span class="n">vtkVersion</span><span class="o">&lt;</span><span class="mi">5</span><span class="p">:</span>
            <span class="n">error</span><span class="p">(</span><span class="s2">&quot;Need at least VTK 5&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">warning</span><span class="p">(</span><span class="s2">&quot;VTK version&quot;</span><span class="p">,</span><span class="n">vtkVersion</span><span class="p">,</span><span class="s2">&quot;currently unsupported (tested with VTK7)&quot;</span><span class="p">)</span>

        <span class="k">global</span> <span class="n">QVTKRenderWindowInteractor</span>
        <span class="kn">from</span> <span class="nn">vtk.qt4</span> <span class="kn">import</span> <span class="n">QVTKRenderWindowInteractor</span>
    <span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
        <span class="n">e</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># Needed because python 2.5 does not support &#39;as e&#39;</span>
        <span class="n">error</span><span class="p">(</span><span class="s2">&quot;Error while importing modules:&quot;</span><span class="p">,</span><span class="n">e</span><span class="p">)</span></div>

<span class="n">doImports</span><span class="p">()</span>

<div class="viewcode-block" id="ReportToThreadRunner"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.ReportToThreadRunner">[docs]</a><span class="k">class</span> <span class="nc">ReportToThreadRunner</span><span class="p">(</span><span class="n">BasicRunner</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">argv</span><span class="p">,</span>
                 <span class="n">thread</span><span class="p">):</span>
        <span class="n">BasicRunner</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                             <span class="n">argv</span><span class="o">=</span><span class="n">argv</span><span class="p">,</span>
                             <span class="n">noLog</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                             <span class="n">silent</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thread</span><span class="o">=</span><span class="n">thread</span>

<div class="viewcode-block" id="ReportToThreadRunner.lineHandle"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.ReportToThreadRunner.lineHandle">[docs]</a>    <span class="k">def</span> <span class="nf">lineHandle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">line</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thread</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="UtilityThread"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.UtilityThread">[docs]</a><span class="k">class</span> <span class="nc">UtilityThread</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QThread</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">argv</span><span class="p">,</span>
                 <span class="n">parent</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">UtilityThread</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">argv</span><span class="o">=</span><span class="n">argv</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
<div class="viewcode-block" id="UtilityThread.run"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.UtilityThread.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">runner</span><span class="o">=</span><span class="n">ReportToThreadRunner</span><span class="p">(</span><span class="n">argv</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">argv</span><span class="p">,</span>
                                        <span class="n">thread</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
            <span class="n">runner</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">runner</span><span class="o">.</span><span class="n">runOK</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">=</span><span class="s2">&quot; - Problem&quot;</span>

        <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="o">=</span><span class="s2">&quot; - OS Problem&quot;</span></div>

<div class="viewcode-block" id="UtilityThread.append"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.UtilityThread.append">[docs]</a>    <span class="k">def</span> <span class="nf">append</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">line</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">SIGNAL</span><span class="p">(</span><span class="s2">&quot;newLine(QString)&quot;</span><span class="p">),</span><span class="n">line</span><span class="p">)</span></div></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog">[docs]</a><span class="k">class</span> <span class="nc">DisplayBlockMeshDialog</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QMainWindow</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">fName</span><span class="p">,</span>
                 <span class="n">valuesFile</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                 <span class="n">opts</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">DisplayBlockMeshDialog</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fName</span><span class="o">=</span><span class="n">fName</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vName</span><span class="o">=</span><span class="n">valuesFile</span>

        <span class="c1"># dirty. Gives us access to the command line opts</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">opts</span><span class="o">=</span><span class="n">opts</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">numberScale</span><span class="o">=</span><span class="mi">2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pointScale</span><span class="o">=</span><span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axisLabelScale</span><span class="o">=</span><span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axisTubeScale</span><span class="o">=</span><span class="mf">0.5</span>

        <span class="n">titleString</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">[*] - DisplayBlockMesh&quot;</span> <span class="o">%</span> <span class="n">fName</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">vName</span><span class="p">:</span>
            <span class="n">titleString</span><span class="o">+=</span><span class="s2">&quot;(Values: </span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vName</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="n">titleString</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">caseDir</span><span class="o">=</span><span class="kc">None</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">components</span><span class="o">=</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">fName</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">sep</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">components</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;polyMesh&quot;</span><span class="p">:</span>
                <span class="c1"># old scheme with blockMeshDict in constant/polyMesh</span>
                <span class="n">components</span><span class="o">=</span><span class="n">components</span><span class="p">[:</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># new scheme with blockMeshDict in system</span>
                <span class="n">components</span><span class="o">=</span><span class="n">components</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

            <span class="n">caseDir</span><span class="o">=</span><span class="n">path</span><span class="o">.</span><span class="n">sep</span><span class="o">+</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="o">*</span><span class="n">components</span><span class="p">)</span>
            <span class="n">isOK</span><span class="o">=</span><span class="n">NoTouchSolutionDirectory</span><span class="p">(</span><span class="n">caseDir</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">isOK</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">caseDir</span><span class="o">=</span><span class="n">caseDir</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">&quot;Case </span><span class="si">%s</span><span class="s2">[*] - DisplayBlockMesh&quot;</span> <span class="o">%</span> <span class="n">caseDir</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">path</span><span class="o">.</span><span class="n">sep</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">pass</span>

        <span class="n">central</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QWidget</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setCentralWidget</span><span class="p">(</span><span class="n">central</span><span class="p">)</span>

        <span class="n">layout</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QVBoxLayout</span><span class="p">()</span>
        <span class="n">central</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">renInteractor</span><span class="o">=</span><span class="n">QVTKRenderWindowInteractor</span><span class="o">.</span><span class="n">QVTKRenderWindowInteractor</span><span class="p">(</span><span class="n">central</span><span class="p">)</span>
        <span class="c1">#        self.renInteractor.Initialize() # this creates a segfault for old PyQt</span>
        <span class="c1">#        self.renInteractor.Start()  # segfault</span>

        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">renInteractor</span><span class="p">)</span>

        <span class="n">mainDock</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QDockWidget</span><span class="p">(</span><span class="s2">&quot;Main controls&quot;</span><span class="p">,</span>
                                   <span class="bp">self</span><span class="p">)</span>
        <span class="n">mainDock</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">&quot;MainControlsDock&quot;</span><span class="p">)</span>
        <span class="n">mainDock</span><span class="o">.</span><span class="n">setFeatures</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QDockWidget</span><span class="o">.</span><span class="n">DockWidgetFloatable</span> <span class="o">|</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QDockWidget</span><span class="o">.</span><span class="n">DockWidgetMovable</span><span class="p">)</span>
        <span class="n">mainDock</span><span class="o">.</span><span class="n">setAllowedAreas</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">TopDockWidgetArea</span> <span class="o">|</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">BottomDockWidgetArea</span><span class="p">)</span>
        <span class="n">mainDockWidget</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QWidget</span><span class="p">()</span>
        <span class="n">mainDock</span><span class="o">.</span><span class="n">setWidget</span><span class="p">(</span><span class="n">mainDockWidget</span><span class="p">)</span>

        <span class="n">subLayout</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QGridLayout</span><span class="p">()</span>
        <span class="n">mainDockWidget</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">subLayout</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addDockWidget</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">BottomDockWidgetArea</span><span class="p">,</span> <span class="n">mainDock</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">renInteractor</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">renWin</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">renInteractor</span><span class="o">.</span><span class="n">GetRenderWindow</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ren</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkRenderer</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">renWin</span><span class="o">.</span><span class="n">AddRenderer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">renWin</span><span class="o">.</span><span class="n">SetSize</span><span class="p">(</span><span class="mi">600</span><span class="p">,</span> <span class="mi">600</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">SetBackground</span><span class="p">(</span><span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">ResetCamera</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cam</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">GetActiveCamera</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axes</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkCubeAxesActor2D</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">SetCamera</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">GetActiveCamera</span><span class="p">())</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">undefinedActor</span><span class="o">=</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkTextActor</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">undefinedActor</span><span class="o">.</span><span class="n">GetPositionCoordinate</span><span class="p">()</span><span class="o">.</span><span class="n">SetCoordinateSystemToNormalizedDisplay</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">undefinedActor</span><span class="o">.</span><span class="n">GetPositionCoordinate</span><span class="p">()</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="mf">0.05</span><span class="p">,</span><span class="mf">0.2</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">undefinedActor</span><span class="o">.</span><span class="n">GetTextProperty</span><span class="p">()</span><span class="o">.</span><span class="n">SetColor</span><span class="p">(</span><span class="mf">1.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">undefinedActor</span><span class="o">.</span><span class="n">SetInput</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">rereadAction</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="s2">&quot;&amp;Reread&quot;</span><span class="p">,</span>
                                        <span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rereadAction</span><span class="o">.</span><span class="n">setShortcut</span><span class="p">(</span><span class="s2">&quot;Ctrl+R&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rereadAction</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="s2">&quot;Reread the blockMesh-file&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rereadAction</span><span class="p">,</span>
                     <span class="n">QtCore</span><span class="o">.</span><span class="n">SIGNAL</span><span class="p">(</span><span class="s2">&quot;triggered()&quot;</span><span class="p">),</span>
                     <span class="bp">self</span><span class="o">.</span><span class="n">reread</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">blockMeshAction</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="s2">&quot;&amp;BlockMesh&quot;</span><span class="p">,</span>
                                        <span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockMeshAction</span><span class="o">.</span><span class="n">setShortcut</span><span class="p">(</span><span class="s2">&quot;Ctrl+B&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockMeshAction</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="s2">&quot;Execute blockMesh-Utility&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blockMeshAction</span><span class="p">,</span>
                     <span class="n">QtCore</span><span class="o">.</span><span class="n">SIGNAL</span><span class="p">(</span><span class="s2">&quot;triggered()&quot;</span><span class="p">),</span>
                     <span class="bp">self</span><span class="o">.</span><span class="n">blockMesh</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">checkMeshAction</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="s2">&quot;Chec&amp;kMesh&quot;</span><span class="p">,</span>
                                        <span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkMeshAction</span><span class="o">.</span><span class="n">setShortcut</span><span class="p">(</span><span class="s2">&quot;Ctrl+K&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkMeshAction</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="s2">&quot;Execute checkMesh-Utility&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checkMeshAction</span><span class="p">,</span>
                     <span class="n">QtCore</span><span class="o">.</span><span class="n">SIGNAL</span><span class="p">(</span><span class="s2">&quot;triggered()&quot;</span><span class="p">),</span>
                     <span class="bp">self</span><span class="o">.</span><span class="n">checkMesh</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">caseDir</span><span class="o">==</span><span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blockMeshAction</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">checkMeshAction</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">quitAction</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="s2">&quot;&amp;Quit&quot;</span><span class="p">,</span>
                                      <span class="bp">self</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">quitAction</span><span class="o">.</span><span class="n">setShortcut</span><span class="p">(</span><span class="s2">&quot;Ctrl+Q&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quitAction</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="s2">&quot;Quit this program&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">quitAction</span><span class="p">,</span>
                     <span class="n">QtCore</span><span class="o">.</span><span class="n">SIGNAL</span><span class="p">(</span><span class="s2">&quot;triggered()&quot;</span><span class="p">),</span>
                     <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">saveAction</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="s2">&quot;&amp;Save&quot;</span><span class="p">,</span>
                                      <span class="bp">self</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">saveAction</span><span class="o">.</span><span class="n">setShortcut</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QKeySequence</span><span class="o">.</span><span class="n">Save</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">saveAction</span><span class="o">.</span><span class="n">setToolTip</span><span class="p">(</span><span class="s2">&quot;Save the blockmesh from the editor&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">saveAction</span><span class="p">,</span>
                     <span class="n">QtCore</span><span class="o">.</span><span class="n">SIGNAL</span><span class="p">(</span><span class="s2">&quot;triggered()&quot;</span><span class="p">),</span>
                     <span class="bp">self</span><span class="o">.</span><span class="n">saveBlockMesh</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">saveAction</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">fileMenu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">menuBar</span><span class="p">()</span><span class="o">.</span><span class="n">addMenu</span><span class="p">(</span><span class="s2">&quot;&amp;Blockmesh file&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fileMenu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rereadAction</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fileMenu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">saveAction</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fileMenu</span><span class="o">.</span><span class="n">addSeparator</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fileMenu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">quitAction</span><span class="p">)</span>

        <span class="n">editTitle</span><span class="o">=</span><span class="s2">&quot;Edit blockMesh&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">vName</span><span class="p">:</span>
            <span class="n">editTitle</span><span class="o">+=</span><span class="s2">&quot; - template&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">editorDock</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QDockWidget</span><span class="p">(</span><span class="n">editTitle</span><span class="p">,</span>
                                          <span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">editorDock</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">&quot;EditorDock&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">editorDock</span><span class="o">.</span><span class="n">setAllowedAreas</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">LeftDockWidgetArea</span> <span class="o">|</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">RightDockWidgetArea</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">editor</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QPlainTextEdit</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">editor</span><span class="o">.</span><span class="n">setLineWrapMode</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QPlainTextEdit</span><span class="o">.</span><span class="n">NoWrap</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">editor</span><span class="o">.</span><span class="n">textChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blockMeshWasModified</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">alwaysSave</span><span class="o">=</span><span class="kc">False</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Old PyQT4-version. Editing might not work as expected&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">editor</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QTextEdit</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">alwaysSave</span><span class="o">=</span><span class="kc">True</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">saveAction</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">editor</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QFont</span><span class="p">(</span><span class="s2">&quot;Courier&quot;</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">editorDock</span><span class="o">.</span><span class="n">setWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">editor</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addDockWidget</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">RightDockWidgetArea</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">editorDock</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">editorDock</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">vName</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">vEditorDock</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QDockWidget</span><span class="p">(</span><span class="s2">&quot;Values file&quot;</span><span class="p">,</span>
                                               <span class="bp">self</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">vEditorDock</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">&quot;VEditorDock&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">vEditorDock</span><span class="o">.</span><span class="n">setAllowedAreas</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">LeftDockWidgetArea</span> <span class="o">|</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">RightDockWidgetArea</span><span class="p">)</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">vEditor</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QPlainTextEdit</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">vEditor</span><span class="o">.</span><span class="n">setLineWrapMode</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QPlainTextEdit</span><span class="o">.</span><span class="n">NoWrap</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">vEditor</span><span class="o">.</span><span class="n">textChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blockMeshWasModified</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
                <span class="n">warning</span><span class="p">(</span><span class="s2">&quot;Old PyQT4-version. Editing might not work as expected&quot;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">vEditor</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QTextEdit</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">vEditor</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QFont</span><span class="p">(</span><span class="s2">&quot;Courier&quot;</span><span class="p">))</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">vEditorDock</span><span class="o">.</span><span class="n">setWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vEditor</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">addDockWidget</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">RightDockWidgetArea</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">vEditorDock</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">vEditorDock</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">utilityDock</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QDockWidget</span><span class="p">(</span><span class="s2">&quot;Utility output&quot;</span><span class="p">,</span>
                                          <span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">utilityOutput</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QTextEdit</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">utilityOutput</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QFont</span><span class="p">(</span><span class="s2">&quot;Courier&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">utilityOutput</span><span class="o">.</span><span class="n">setLineWrapMode</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QTextEdit</span><span class="o">.</span><span class="n">NoWrap</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">utilityOutput</span><span class="o">.</span><span class="n">setReadOnly</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">utilityDock</span><span class="o">.</span><span class="n">setWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">utilityOutput</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">utilityDock</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">&quot;UtilityDock&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">utilityDock</span><span class="o">.</span><span class="n">setAllowedAreas</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">LeftDockWidgetArea</span> <span class="o">|</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">RightDockWidgetArea</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addDockWidget</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">RightDockWidgetArea</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">utilityDock</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">utilityDock</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">worker</span><span class="o">=</span><span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">texteditorAction</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">editorDock</span><span class="o">.</span><span class="n">toggleViewAction</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">texteditorAction</span><span class="o">.</span><span class="n">setShortcut</span><span class="p">(</span><span class="s2">&quot;Ctrl+E&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">vName</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">textveditorAction</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">vEditorDock</span><span class="o">.</span><span class="n">toggleViewAction</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">textveditorAction</span><span class="o">.</span><span class="n">setShortcut</span><span class="p">(</span><span class="s2">&quot;Ctrl+F&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">utilityAction</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">utilityDock</span><span class="o">.</span><span class="n">toggleViewAction</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">utilityAction</span><span class="o">.</span><span class="n">setShortcut</span><span class="p">(</span><span class="s2">&quot;Ctrl+U&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">displayDock</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QDockWidget</span><span class="p">(</span><span class="s2">&quot;Display Properties&quot;</span><span class="p">,</span>
                                           <span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">displayDock</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">&quot;DisplayPropertiesDock&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">displayDock</span><span class="o">.</span><span class="n">setAllowedAreas</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">LeftDockWidgetArea</span> <span class="o">|</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">RightDockWidgetArea</span><span class="p">)</span>

        <span class="n">displayStuff</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QWidget</span><span class="p">()</span>
        <span class="n">displayLayout</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QGridLayout</span><span class="p">()</span>
        <span class="n">displayStuff</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">displayLayout</span><span class="p">)</span>
        <span class="n">displayLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Number scale&quot;</span><span class="p">),</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">nrScale</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QDoubleSpinBox</span><span class="p">()</span>
        <span class="n">nrScale</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">numberScale</span><span class="p">)</span>
        <span class="n">nrScale</span><span class="o">.</span><span class="n">setMinimum</span><span class="p">(</span><span class="mf">1e-2</span><span class="p">)</span>
        <span class="n">nrScale</span><span class="o">.</span><span class="n">setSingleStep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">nrScale</span><span class="p">,</span><span class="n">QtCore</span><span class="o">.</span><span class="n">SIGNAL</span><span class="p">(</span><span class="s2">&quot;valueChanged(double)&quot;</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">numberScaleChanged</span><span class="p">)</span>
        <span class="n">displayLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">nrScale</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">displayLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Point scale&quot;</span><span class="p">),</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">ptScale</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QDoubleSpinBox</span><span class="p">()</span>
        <span class="n">ptScale</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pointScale</span><span class="p">)</span>
        <span class="n">ptScale</span><span class="o">.</span><span class="n">setMinimum</span><span class="p">(</span><span class="mf">1e-2</span><span class="p">)</span>
        <span class="n">ptScale</span><span class="o">.</span><span class="n">setSingleStep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">ptScale</span><span class="p">,</span><span class="n">QtCore</span><span class="o">.</span><span class="n">SIGNAL</span><span class="p">(</span><span class="s2">&quot;valueChanged(double)&quot;</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">pointScaleChanged</span><span class="p">)</span>
        <span class="n">displayLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">ptScale</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">displayLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Axis label scale&quot;</span><span class="p">),</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">axisLScale</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QDoubleSpinBox</span><span class="p">()</span>
        <span class="n">axisLScale</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">axisLabelScale</span><span class="p">)</span>
        <span class="n">axisLScale</span><span class="o">.</span><span class="n">setMinimum</span><span class="p">(</span><span class="mf">1e-2</span><span class="p">)</span>
        <span class="n">axisLScale</span><span class="o">.</span><span class="n">setSingleStep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">axisLScale</span><span class="p">,</span><span class="n">QtCore</span><span class="o">.</span><span class="n">SIGNAL</span><span class="p">(</span><span class="s2">&quot;valueChanged(double)&quot;</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">axisLabelScaleChanged</span><span class="p">)</span>
        <span class="n">displayLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">axisLScale</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">displayLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Axis tube scale&quot;</span><span class="p">),</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">axisTScale</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QDoubleSpinBox</span><span class="p">()</span>
        <span class="n">axisTScale</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">axisTubeScale</span><span class="p">)</span>
        <span class="n">axisTScale</span><span class="o">.</span><span class="n">setMinimum</span><span class="p">(</span><span class="mf">1e-2</span><span class="p">)</span>
        <span class="n">axisTScale</span><span class="o">.</span><span class="n">setSingleStep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">axisTScale</span><span class="p">,</span><span class="n">QtCore</span><span class="o">.</span><span class="n">SIGNAL</span><span class="p">(</span><span class="s2">&quot;valueChanged(double)&quot;</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">axisTubeScaleChanged</span><span class="p">)</span>
        <span class="n">displayLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">axisTScale</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

        <span class="n">displayLayout</span><span class="o">.</span><span class="n">setRowStretch</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">displayDock</span><span class="o">.</span><span class="n">setWidget</span><span class="p">(</span><span class="n">displayStuff</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addDockWidget</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">LeftDockWidgetArea</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">displayDock</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">displayDock</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">displaypropertiesAction</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">displayDock</span><span class="o">.</span><span class="n">toggleViewAction</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">displaypropertiesAction</span><span class="o">.</span><span class="n">setShortcut</span><span class="p">(</span><span class="s2">&quot;Ctrl+D&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">displayMenu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">menuBar</span><span class="p">()</span><span class="o">.</span><span class="n">addMenu</span><span class="p">(</span><span class="s2">&quot;&amp;Display&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">displayMenu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">texteditorAction</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">displayMenu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">displaypropertiesAction</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">displayMenu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">utilityAction</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">vName</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">displayMenu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">textveditorAction</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">utilityMenu</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">menuBar</span><span class="p">()</span><span class="o">.</span><span class="n">addMenu</span><span class="p">(</span><span class="s2">&quot;&amp;Utilities&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">utilityMenu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blockMeshAction</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">utilityMenu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checkMeshAction</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">rereadButton</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Reread blockMeshDict&quot;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">readFile</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="n">e</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># Needed because python 2.5 does not support &#39;as e&#39;</span>

            <span class="n">warning</span><span class="p">(</span><span class="s2">&quot;While reading&quot;</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">fName</span><span class="p">,</span><span class="s2">&quot;this happened:&quot;</span><span class="p">,</span><span class="n">e</span><span class="p">)</span>
            <span class="k">raise</span> <span class="n">e</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">ResetCamera</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">oldBlock</span><span class="o">=-</span><span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockActor</span><span class="o">=</span><span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockTextActor</span><span class="o">=</span><span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockAxisActor</span><span class="o">=</span><span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">oldPatch</span><span class="o">=-</span><span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">patchActor</span><span class="o">=</span><span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">patchTextActor</span><span class="o">=</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkTextActor</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">patchTextActor</span><span class="o">.</span><span class="n">GetPositionCoordinate</span><span class="p">()</span><span class="o">.</span><span class="n">SetCoordinateSystemToNormalizedDisplay</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">patchTextActor</span><span class="o">.</span><span class="n">GetPositionCoordinate</span><span class="p">()</span><span class="o">.</span><span class="n">SetValue</span><span class="p">(</span><span class="mf">0.05</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">patchTextActor</span><span class="o">.</span><span class="n">GetTextProperty</span><span class="p">()</span><span class="o">.</span><span class="n">SetColor</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">patchTextActor</span><span class="o">.</span><span class="n">SetInput</span><span class="p">(</span><span class="s2">&quot;Patch: &lt;none&gt;&quot;</span><span class="p">)</span>

        <span class="n">label1</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Block (-1 is none)&quot;</span><span class="p">)</span>
        <span class="n">subLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">label1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scroll</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QSlider</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">Horizontal</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scroll</span><span class="o">.</span><span class="n">setRange</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blocks</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scroll</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scroll</span><span class="o">.</span><span class="n">setTickPosition</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QSlider</span><span class="o">.</span><span class="n">TicksBothSides</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scroll</span><span class="o">.</span><span class="n">setTickInterval</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scroll</span><span class="o">.</span><span class="n">setSingleStep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scroll</span><span class="p">,</span><span class="n">QtCore</span><span class="o">.</span><span class="n">SIGNAL</span><span class="p">(</span><span class="s2">&quot;valueChanged(int)&quot;</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">colorBlock</span><span class="p">)</span>
        <span class="n">subLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scroll</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

        <span class="n">label2</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Patch (-1 is none)&quot;</span><span class="p">)</span>
        <span class="n">subLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">label2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scroll2</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QSlider</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">Horizontal</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scroll2</span><span class="o">.</span><span class="n">setRange</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">patches</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scroll2</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scroll2</span><span class="o">.</span><span class="n">setTickPosition</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QSlider</span><span class="o">.</span><span class="n">TicksBothSides</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scroll2</span><span class="o">.</span><span class="n">setTickInterval</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scroll2</span><span class="o">.</span><span class="n">setSingleStep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scroll2</span><span class="p">,</span><span class="n">QtCore</span><span class="o">.</span><span class="n">SIGNAL</span><span class="p">(</span><span class="s2">&quot;valueChanged(int)&quot;</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">colorPatch</span><span class="p">)</span>
        <span class="n">subLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">scroll2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>

        <span class="n">buttonLayout</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QHBoxLayout</span><span class="p">()</span>
        <span class="n">buttonLayout</span><span class="o">.</span><span class="n">addStretch</span><span class="p">()</span>

        <span class="n">subLayout</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="n">buttonLayout</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">buttonLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rereadButton</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rereadButton</span><span class="p">,</span><span class="n">QtCore</span><span class="o">.</span><span class="n">SIGNAL</span><span class="p">(</span><span class="s2">&quot;clicked()&quot;</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">reread</span><span class="p">)</span>
        <span class="n">b1</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Quit&quot;</span><span class="p">)</span>
        <span class="n">buttonLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">b1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">b1</span><span class="p">,</span><span class="n">QtCore</span><span class="o">.</span><span class="n">SIGNAL</span><span class="p">(</span><span class="s2">&quot;clicked()&quot;</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">iren</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">renWin</span><span class="o">.</span><span class="n">GetInteractor</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">istyle</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkInteractorStyleSwitch</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">iren</span><span class="o">.</span><span class="n">SetInteractorStyle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">istyle</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">istyle</span><span class="o">.</span><span class="n">SetCurrentStyleToTrackballCamera</span><span class="p">()</span>

        <span class="c1">#        self.iren.Initialize() # Seems to be unnecessary and produces segfaults</span>
        <span class="c1">#        self.renWin.Render()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">iren</span><span class="o">.</span><span class="n">Start</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">addProps</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setUnifiedTitleAndToolBarOnMac</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setupBlockingGui</span><span class="p">()</span>

        <span class="n">storedGeometry</span><span class="o">=</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QSettings</span><span class="p">()</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;geometry&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">storedGeometry</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">restoreGeometry</span><span class="p">(</span><span class="n">storedGeometry</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No stored window geometry&quot;</span><span class="p">)</span>

        <span class="n">storedState</span><span class="o">=</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QSettings</span><span class="p">()</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;state&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">storedState</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">restoreState</span><span class="p">(</span><span class="n">storedState</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No stored state&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setStatus</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">reread</span><span class="p">()</span>

<div class="viewcode-block" id="DisplayBlockMeshDialog.setupBlockingGui"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.setupBlockingGui">[docs]</a>    <span class="k">def</span> <span class="nf">setupBlockingGui</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;sets up the GUI to add the Blocking functions.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">isBlocking</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">isPatching</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tmpBlock</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">redLineActors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tmpBlockActor</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tmpPatch</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tmpPatchActor</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tmpGlyphActor</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">renInteractor</span><span class="o">.</span><span class="n">GetPicker</span><span class="p">()</span><span class="o">.</span><span class="n">AddObserver</span><span class="p">(</span><span class="s1">&#39;PickEvent&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">PickEvent</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">blockingDock</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QDockWidget</span><span class="p">(</span><span class="s2">&quot;GUI Blocking&quot;</span><span class="p">,</span>
                                          <span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockingDock</span><span class="o">.</span><span class="n">setObjectName</span><span class="p">(</span><span class="s2">&quot;BlockingDock&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockingDock</span><span class="o">.</span><span class="n">setAllowedAreas</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">LeftDockWidgetArea</span> <span class="o">|</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">RightDockWidgetArea</span><span class="p">)</span>

        <span class="n">displayStuff</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QWidget</span><span class="p">()</span>
        <span class="n">displayLayout</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QGridLayout</span><span class="p">()</span>
        <span class="n">displayStuff</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">displayLayout</span><span class="p">)</span>

        <span class="sd">&quot;&quot;&quot;Define Block&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">defineBlockButton</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Define Block&quot;</span><span class="p">)</span>
        <span class="n">displayLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">defineBlockButton</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">defineBlockButton</span><span class="p">,</span><span class="n">QtCore</span><span class="o">.</span><span class="n">SIGNAL</span><span class="p">(</span><span class="s2">&quot;clicked()&quot;</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">defineBlock</span><span class="p">)</span>

        <span class="sd">&quot;&quot;&quot;Insert Block&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">insertBlockButton</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Insert Block&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">insertBlockButton</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">displayLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">insertBlockButton</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">insertBlockButton</span><span class="p">,</span><span class="n">QtCore</span><span class="o">.</span><span class="n">SIGNAL</span><span class="p">(</span><span class="s2">&quot;clicked()&quot;</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">insertBlock</span><span class="p">)</span>

        <span class="n">displayLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Press &#39;p&#39; to select vertices&quot;</span><span class="p">),</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AlignLeft</span><span class="p">)</span>

        <span class="sd">&quot;&quot;&quot;Division Spin Box&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockdivx</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockdivy</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockdivz</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>


        <span class="bp">self</span><span class="o">.</span><span class="n">blockDivSpinX</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QDoubleSpinBox</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockDivSpinX</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blockdivx</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockDivSpinX</span><span class="o">.</span><span class="n">setMinimum</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockDivSpinX</span><span class="o">.</span><span class="n">setSingleStep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockDivSpinX</span><span class="o">.</span><span class="n">setDecimals</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>


        <span class="bp">self</span><span class="o">.</span><span class="n">blockDivSpinY</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QDoubleSpinBox</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockDivSpinY</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blockdivy</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockDivSpinY</span><span class="o">.</span><span class="n">setMinimum</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockDivSpinY</span><span class="o">.</span><span class="n">setSingleStep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockDivSpinY</span><span class="o">.</span><span class="n">setDecimals</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>


        <span class="bp">self</span><span class="o">.</span><span class="n">blockDivSpinZ</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QDoubleSpinBox</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockDivSpinZ</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blockdivz</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockDivSpinZ</span><span class="o">.</span><span class="n">setMinimum</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockDivSpinZ</span><span class="o">.</span><span class="n">setSingleStep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockDivSpinZ</span><span class="o">.</span><span class="n">setDecimals</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

        <span class="n">divLayout</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QHBoxLayout</span><span class="p">()</span>
        <span class="n">divWidget</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QWidget</span><span class="p">()</span>
        <span class="n">displayLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">&quot;Block Division&quot;</span><span class="p">),</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">divLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blockDivSpinX</span><span class="p">)</span>
        <span class="n">divLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blockDivSpinY</span><span class="p">)</span>
        <span class="n">divLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blockDivSpinZ</span><span class="p">)</span>
        <span class="n">divWidget</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">divLayout</span><span class="p">)</span>
        <span class="n">displayLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">divWidget</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>

        <span class="sd">&quot;&quot;&quot;Text Editor&quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">hexeditor</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QTextEdit</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hexeditor</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QFont</span><span class="p">(</span><span class="s2">&quot;Courier&quot;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hexeditor</span><span class="o">.</span><span class="n">setLineWrapMode</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QTextEdit</span><span class="o">.</span><span class="n">NoWrap</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hexeditor</span><span class="o">.</span><span class="n">setReadOnly</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="c1">#self.hexeditor.textChanged.connect(self.blockMeshWasModified)</span>
        <span class="n">displayLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hexeditor</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>

        <span class="sd">&quot;&quot;&quot;patch button&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">definePatchButton</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Define Patch&quot;</span><span class="p">)</span>
        <span class="n">displayLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">definePatchButton</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">definePatchButton</span><span class="p">,</span><span class="n">QtCore</span><span class="o">.</span><span class="n">SIGNAL</span><span class="p">(</span><span class="s2">&quot;clicked()&quot;</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">definePatch</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">insertPatchButton</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Insert Patch&quot;</span><span class="p">)</span>
        <span class="n">displayLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">insertPatchButton</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">insertPatchButton</span><span class="p">,</span><span class="n">QtCore</span><span class="o">.</span><span class="n">SIGNAL</span><span class="p">(</span><span class="s2">&quot;clicked()&quot;</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">insertPatch</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">insertPatchButton</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">reverseNormalButton</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s2">&quot;Reverse Normal&quot;</span><span class="p">)</span>
        <span class="n">displayLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reverseNormalButton</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">reverseNormalButton</span><span class="p">,</span><span class="n">QtCore</span><span class="o">.</span><span class="n">SIGNAL</span><span class="p">(</span><span class="s2">&quot;clicked()&quot;</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">reverseNormal</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reverseNormalButton</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">selectPatchBox</span><span class="o">=</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QComboBox</span><span class="p">()</span>
        <span class="n">displayLayout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">selectPatchBox</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>

        <span class="k">for</span> <span class="nb">str</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">patches</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">selectPatchBox</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">blockingDock</span><span class="o">.</span><span class="n">setWidget</span><span class="p">(</span><span class="n">displayStuff</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addDockWidget</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">RightDockWidgetArea</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">blockingDock</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockingDock</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">blockingGuiAction</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">blockingDock</span><span class="o">.</span><span class="n">toggleViewAction</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockingGuiAction</span><span class="o">.</span><span class="n">setShortcut</span><span class="p">(</span><span class="s2">&quot;Ctrl+G&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">displayMenu</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blockingGuiAction</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockingGuiAction</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.AddBlockToDict"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.AddBlockToDict">[docs]</a>    <span class="k">def</span> <span class="nf">AddBlockToDict</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Adds block to dict, using pyFoam functions&quot;&quot;&quot;</span>
        <span class="n">msgBox</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QMessageBox</span><span class="p">()</span>
        <span class="n">msgBox</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;The document has been modified.&quot;</span><span class="p">)</span>
        <span class="n">msgBox</span><span class="o">.</span><span class="n">setInformativeText</span><span class="p">(</span><span class="s2">&quot;Do you want to save your changes?&quot;</span><span class="p">)</span>
        <span class="n">msgBox</span><span class="o">.</span><span class="n">setStandardButtons</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span> <span class="o">|</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Cancel</span><span class="p">)</span>
        <span class="n">msgBox</span><span class="o">.</span><span class="n">setDefaultButton</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="n">msgBox</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>

        <span class="k">if</span><span class="p">(</span><span class="n">ret</span><span class="o">==</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blockMesh</span><span class="p">[</span><span class="s2">&quot;blocks&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;hex&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blockMesh</span><span class="p">[</span><span class="s2">&quot;blocks&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpBlock</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blockMesh</span><span class="p">[</span><span class="s2">&quot;blocks&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getDivString</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blockMesh</span><span class="p">[</span><span class="s2">&quot;blocks&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;simpleGrading&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blockMesh</span><span class="p">[</span><span class="s2">&quot;blocks&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;(1 1 1)&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blockMesh</span><span class="o">.</span><span class="n">writeFile</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reread</span><span class="p">()</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.AddBlockToText"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.AddBlockToText">[docs]</a>    <span class="k">def</span> <span class="nf">AddBlockToText</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Inserts block into opened dict&quot;&quot;&quot;</span>
        <span class="n">msgBox</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QMessageBox</span><span class="p">()</span>
        <span class="n">msgBox</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;The document has been modified.&quot;</span><span class="p">)</span>
        <span class="n">msgBox</span><span class="o">.</span><span class="n">setInformativeText</span><span class="p">(</span><span class="s2">&quot;Do you want to save your changes?&quot;</span><span class="p">)</span>
        <span class="n">msgBox</span><span class="o">.</span><span class="n">setStandardButtons</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span> <span class="o">|</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Cancel</span><span class="p">)</span>
        <span class="n">msgBox</span><span class="o">.</span><span class="n">setDefaultButton</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="n">msgBox</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>

        <span class="k">if</span><span class="p">(</span><span class="n">ret</span><span class="o">==</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">):</span>
            <span class="n">txt</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">editor</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">())</span>
            <span class="n">p1</span><span class="o">=</span><span class="n">txt</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;blocks&quot;</span><span class="p">)</span>
            <span class="n">p2</span><span class="o">=</span><span class="n">txt</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">,</span><span class="n">p1</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">p1</span><span class="o">&gt;=</span><span class="mi">0</span> <span class="ow">and</span> <span class="n">p2</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">:</span>
              <span class="n">txt</span><span class="o">=</span><span class="n">txt</span><span class="p">[:</span><span class="n">p2</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">getTotalHexString</span><span class="p">()</span><span class="o">+</span><span class="n">txt</span><span class="p">[</span><span class="n">p2</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>
              <span class="bp">self</span><span class="o">.</span><span class="n">editor</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
              <span class="bp">self</span><span class="o">.</span><span class="n">saveBlockMesh</span><span class="p">()</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.AddPatchToText"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.AddPatchToText">[docs]</a>    <span class="k">def</span> <span class="nf">AddPatchToText</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Inserts patch into opened dict&quot;&quot;&quot;</span>
        <span class="n">msgBox</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QMessageBox</span><span class="p">()</span>
        <span class="n">msgBox</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;The document has been modified.&quot;</span><span class="p">)</span>
        <span class="n">msgBox</span><span class="o">.</span><span class="n">setInformativeText</span><span class="p">(</span><span class="s2">&quot;Do you want to save your changes?&quot;</span><span class="p">)</span>
        <span class="n">msgBox</span><span class="o">.</span><span class="n">setStandardButtons</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span> <span class="o">|</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Cancel</span><span class="p">)</span>
        <span class="n">msgBox</span><span class="o">.</span><span class="n">setDefaultButton</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="n">msgBox</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>

        <span class="k">if</span><span class="p">(</span><span class="n">ret</span><span class="o">==</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">):</span>
            <span class="n">txt</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">editor</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">())</span>
            <span class="n">patchname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectPatchBox</span><span class="o">.</span><span class="n">currentText</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setStatus</span><span class="p">(</span><span class="s2">&quot;Adding to patch &quot;</span><span class="o">+</span><span class="n">patchname</span><span class="p">)</span>
            <span class="n">p1</span><span class="o">=</span><span class="n">txt</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">patchname</span><span class="p">)</span>
            <span class="n">p2</span><span class="o">=</span><span class="n">txt</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;{&quot;</span><span class="p">,</span><span class="n">p1</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
            <span class="n">p3</span><span class="o">=</span><span class="n">txt</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">,</span><span class="n">p1</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>

            <span class="n">success</span><span class="o">=</span><span class="kc">False</span>

            <span class="k">if</span> <span class="n">p1</span><span class="o">&gt;=</span><span class="mi">0</span> <span class="ow">and</span> <span class="n">p2</span><span class="o">&gt;=</span><span class="mi">0</span> <span class="ow">and</span> <span class="p">(</span><span class="n">p3</span><span class="o">&lt;</span><span class="mi">0</span> <span class="ow">or</span> <span class="n">p3</span><span class="o">&gt;</span><span class="n">p2</span><span class="p">):</span>
                <span class="n">p11</span><span class="o">=</span><span class="n">txt</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;faces&quot;</span><span class="p">,</span><span class="n">p2</span><span class="p">)</span>
                <span class="n">p22</span><span class="o">=</span><span class="n">txt</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;(&quot;</span><span class="p">,</span><span class="n">p11</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">p11</span><span class="o">&gt;=</span><span class="mi">0</span> <span class="ow">and</span> <span class="n">p22</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">:</span>
                    <span class="n">success</span><span class="o">=</span><span class="kc">True</span>
                    <span class="n">txt</span><span class="o">=</span><span class="n">txt</span><span class="p">[:</span><span class="n">p22</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">getTotalPatchString</span><span class="p">()</span><span class="o">+</span><span class="n">txt</span><span class="p">[</span><span class="n">p22</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>
            <span class="k">elif</span> <span class="n">p1</span><span class="o">&gt;=</span><span class="mi">0</span> <span class="ow">and</span> <span class="n">p3</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">:</span>
                <span class="c1"># old blockMeshFormat</span>
                <span class="n">success</span><span class="o">=</span><span class="kc">True</span>
                <span class="n">txt</span><span class="o">=</span><span class="n">txt</span><span class="p">[:</span><span class="n">p3</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">getTotalPatchString</span><span class="p">()</span><span class="o">+</span><span class="n">txt</span><span class="p">[</span><span class="n">p3</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>

            <span class="k">if</span> <span class="n">success</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">editor</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">saveBlockMesh</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">setStatus</span><span class="p">(</span><span class="s2">&quot;Could not insert into patch&quot;</span><span class="p">,</span><span class="n">patchname</span><span class="p">)</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.PickEvent"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.PickEvent">[docs]</a>    <span class="k">def</span> <span class="nf">PickEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">evt</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Callback for picking event&quot;&quot;&quot;</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">isBlocking</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pickBlockVertice</span><span class="p">()</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">isPatching</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">pickPatchVertice</span><span class="p">()</span>
        <span class="k">return</span> <span class="mi">1</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.pickBlockVertice"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.pickBlockVertice">[docs]</a>    <span class="k">def</span> <span class="nf">pickBlockVertice</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;pick a sphere and add point to block&quot;&quot;&quot;</span>
        <span class="n">i</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pickVertice</span><span class="p">()</span>
        <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">==</span><span class="kc">None</span><span class="p">):</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpBlock</span><span class="p">)</span><span class="o">&lt;=</span><span class="mi">0</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">tmpBlock</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="n">i</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tmpBlock</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hexeditor</span><span class="o">.</span><span class="n">moveCursor</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QTextCursor</span><span class="o">.</span><span class="n">End</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hexeditor</span><span class="o">.</span><span class="n">insertPlainText</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpBlock</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>
            <span class="n">n</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpBlock</span><span class="p">)</span>
            <span class="k">if</span><span class="p">(</span><span class="n">n</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">):</span>
                <span class="k">if</span><span class="p">(</span><span class="n">n</span><span class="o">==</span><span class="mi">5</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">addTmpBlockingLine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpBlock</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="mi">5</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpBlock</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">addTmpBlockingLine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpBlock</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpBlock</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
                <span class="k">elif</span><span class="p">(</span><span class="n">n</span><span class="o">&gt;</span><span class="mi">5</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">addTmpBlockingLine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpBlock</span><span class="p">[</span><span class="n">n</span><span class="o">-</span><span class="mi">5</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpBlock</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">addTmpBlockingLine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpBlock</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpBlock</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">addTmpBlockingLine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpBlock</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpBlock</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

        <span class="k">if</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpBlock</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">8</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">isBlocking</span><span class="o">=</span><span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hexeditor</span><span class="o">.</span><span class="n">moveCursor</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QTextCursor</span><span class="o">.</span><span class="n">End</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hexeditor</span><span class="o">.</span><span class="n">insertPlainText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getEndHexString</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setStatus</span><span class="p">(</span><span class="s2">&quot;Block finished&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">showTmpBlock</span><span class="p">()</span>
            <span class="c1">#self.AddBlockToDict()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">insertBlockButton</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.pickPatchVertice"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.pickPatchVertice">[docs]</a>    <span class="k">def</span> <span class="nf">pickPatchVertice</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;pick a sphere and add point to vertice&quot;&quot;&quot;</span>
        <span class="n">i</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">pickVertice</span><span class="p">()</span>
        <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">==</span><span class="kc">None</span><span class="p">):</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpPatch</span><span class="p">)</span><span class="o">&lt;=</span><span class="mi">0</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">tmpPatch</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="n">i</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">tmpPatch</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hexeditor</span><span class="o">.</span><span class="n">moveCursor</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QTextCursor</span><span class="o">.</span><span class="n">End</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hexeditor</span><span class="o">.</span><span class="n">insertPlainText</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpPatch</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span><span class="p">)</span>
            <span class="n">n</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpPatch</span><span class="p">)</span>
            <span class="k">if</span><span class="p">(</span><span class="n">n</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">):</span>
                <span class="k">if</span><span class="p">(</span><span class="n">n</span><span class="o">&gt;</span><span class="mi">3</span><span class="p">):</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">addTmpBlockingLine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpPatch</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpPatch</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">addTmpBlockingLine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpPatch</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpPatch</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">addTmpBlockingLine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpPatch</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpPatch</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

        <span class="k">if</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpPatch</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">4</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">isPatching</span><span class="o">=</span><span class="kc">False</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hexeditor</span><span class="o">.</span><span class="n">moveCursor</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QTextCursor</span><span class="o">.</span><span class="n">End</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hexeditor</span><span class="o">.</span><span class="n">insertPlainText</span><span class="p">(</span><span class="s2">&quot;)&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setStatus</span><span class="p">(</span><span class="s2">&quot;Patch finished&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">showTmpPatch</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">insertPatchButton</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reverseNormalButton</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.pickVertice"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.pickVertice">[docs]</a>    <span class="k">def</span> <span class="nf">pickVertice</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;pick a vertice, returns Null if invalid&quot;&quot;&quot;</span>
        <span class="n">picker</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">renInteractor</span><span class="o">.</span><span class="n">GetPicker</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vActors</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">v</span><span class="o">==</span><span class="n">picker</span><span class="o">.</span><span class="n">GetActor</span><span class="p">():</span>
                <span class="k">return</span> <span class="n">i</span>

        <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.getEndHexString"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.getEndHexString">[docs]</a>    <span class="k">def</span> <span class="nf">getEndHexString</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;last part of hex string&quot;&quot;&quot;</span>
        <span class="n">string</span> <span class="o">=</span><span class="s2">&quot;&quot;</span>
        <span class="n">divstring</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">getDivString</span><span class="p">()</span>
        <span class="c1"># + &quot; &quot; + str(self.blockDivSpinY.value()) + &quot; &quot; + str(self.blockDivSpinZ.value()) + &quot; )&quot;</span>
        <span class="n">string</span> <span class="o">=</span> <span class="s2">&quot; ) &quot;</span><span class="o">+</span> <span class="n">divstring</span> <span class="o">+</span><span class="s2">&quot; simpleGrading (1 1 1)&quot;</span>
        <span class="k">return</span> <span class="n">string</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.getTotalHexString"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.getTotalHexString">[docs]</a>    <span class="k">def</span> <span class="nf">getTotalHexString</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;total block hex string&quot;&quot;&quot;</span>
        <span class="n">string</span> <span class="o">=</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">    // added by pyFoam, DisplayBlockMesh</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">string</span> <span class="o">=</span><span class="n">string</span> <span class="o">+</span> <span class="s2">&quot;    hex ( &quot;</span>
        <span class="k">for</span> <span class="n">blk</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tmpBlock</span><span class="p">:</span>
            <span class="n">string</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">blk</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span>
        <span class="n">divstring</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">getDivString</span><span class="p">()</span>
        <span class="n">string</span> <span class="o">=</span> <span class="n">string</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">getEndHexString</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">string</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.getTotalPatchString"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.getTotalPatchString">[docs]</a>    <span class="k">def</span> <span class="nf">getTotalPatchString</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;total patch string&quot;&quot;&quot;</span>
        <span class="n">string</span> <span class="o">=</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">    // added by pyFoam, DisplayBlockMesh</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">string</span><span class="o">+=</span><span class="bp">self</span><span class="o">.</span><span class="n">getPatchString</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">string</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.getPatchString"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.getPatchString">[docs]</a>    <span class="k">def</span> <span class="nf">getPatchString</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">string</span> <span class="o">=</span> <span class="s2">&quot;( &quot;</span>
        <span class="k">for</span> <span class="n">patch</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tmpPatch</span><span class="p">:</span>
            <span class="n">string</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">patch</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot; &quot;</span>
        <span class="n">string</span><span class="o">+=</span> <span class="s2">&quot;)&quot;</span>
        <span class="k">return</span> <span class="n">string</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.getDivString"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.getDivString">[docs]</a>    <span class="k">def</span> <span class="nf">getDivString</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;block division string&quot;&quot;&quot;</span>
        <span class="n">divstring</span><span class="o">=</span><span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="si">{val:g}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">val</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">blockDivSpinX</span><span class="o">.</span><span class="n">value</span><span class="p">())</span>
        <span class="n">divstring</span><span class="o">=</span><span class="n">divstring</span> <span class="o">+</span> <span class="s2">&quot; </span><span class="si">{val:g}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">val</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">blockDivSpinY</span><span class="o">.</span><span class="n">value</span><span class="p">())</span>
        <span class="n">divstring</span><span class="o">=</span><span class="n">divstring</span> <span class="o">+</span> <span class="s2">&quot; </span><span class="si">{val:g}</span><span class="s2">)&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">val</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">blockDivSpinZ</span><span class="o">.</span><span class="n">value</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">divstring</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.defineBlock"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.defineBlock">[docs]</a>    <span class="k">def</span> <span class="nf">defineBlock</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;callback for create block button&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">isBlocking</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">isBlocking</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">isBlocking</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">startBlocking</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resetBlocking</span><span class="p">()</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.definePatch"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.definePatch">[docs]</a>    <span class="k">def</span> <span class="nf">definePatch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Callback for create patch button&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">isPatching</span> <span class="o">=</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">isPatching</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">isPatching</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">startPatch</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resetPatch</span><span class="p">()</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.insertBlock"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.insertBlock">[docs]</a>    <span class="k">def</span> <span class="nf">insertBlock</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;inserts new block&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AddBlockToText</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resetBlocking</span><span class="p">()</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.insertPatch"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.insertPatch">[docs]</a>    <span class="k">def</span> <span class="nf">insertPatch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;inserts new patch&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">AddPatchToText</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resetPatch</span><span class="p">()</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.startBlocking"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.startBlocking">[docs]</a>    <span class="k">def</span> <span class="nf">startBlocking</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;start blocking&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resetBlocking</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resetPatch</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">renInteractor</span><span class="o">.</span><span class="n">setFocus</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">isBlocking</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">defineBlockButton</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Reset Block&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hexeditor</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;hex ( &quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setStatus</span><span class="p">(</span><span class="s2">&quot;Start hex&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.resetBlocking"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.resetBlocking">[docs]</a>    <span class="k">def</span> <span class="nf">resetBlocking</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;rest block&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">isBlocking</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">defineBlockButton</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Define Block&quot;</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">act</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">redLineActors</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">RemoveActor</span><span class="p">(</span><span class="n">act</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">redLineActors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tmpBlock</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hexeditor</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">insertBlockButton</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">RemoveActor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpBlockActor</span><span class="p">)</span>
        <span class="c1">#cellpicker = vtk.vtkCellPicker()</span>
        <span class="c1">#picker = self.renInteractor.GetPicker()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reread</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.startPatch"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.startPatch">[docs]</a>    <span class="k">def</span> <span class="nf">startPatch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;start define patch&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resetBlocking</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resetPatch</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">renInteractor</span><span class="o">.</span><span class="n">setFocus</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">isPatching</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">definePatchButton</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Reset Patch&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hexeditor</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;( &quot;</span><span class="p">)</span>
        <span class="k">return</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.resetPatch"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.resetPatch">[docs]</a>    <span class="k">def</span> <span class="nf">resetPatch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;rest patch&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">isPatching</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">definePatchButton</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Define Patch&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tmpPatch</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">act</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">redLineActors</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">RemoveActor</span><span class="p">(</span><span class="n">act</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">RemoveActor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpGlyphActor</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">redLineActors</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hexeditor</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">insertPatchButton</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reverseNormalButton</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">RemoveActor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpBlockActor</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reread</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">return</span><span class="p">;</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.reverseNormal"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.reverseNormal">[docs]</a>    <span class="k">def</span> <span class="nf">reverseNormal</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tmpPatch</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">RemoveActor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpGlyphActor</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">RemoveActor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpBlockActor</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">showTmpPatch</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hexeditor</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hexeditor</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">getPatchString</span><span class="p">())</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.addTmpBlockingLine"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.addTmpBlockingLine">[docs]</a>    <span class="k">def</span> <span class="nf">addTmpBlockingLine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">index1</span><span class="p">,</span><span class="n">index2</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add a colored line to show blocking progress&quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">c1</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">[</span><span class="n">index1</span><span class="p">]</span>
            <span class="n">c2</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">[</span><span class="n">index2</span><span class="p">]</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">index1</span><span class="o">&gt;=</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">addUndefined</span><span class="p">(</span><span class="n">index1</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">index2</span><span class="o">&gt;=</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">addUndefined</span><span class="p">(</span><span class="n">index2</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">line</span><span class="o">=</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkLineSource</span><span class="p">()</span>
        <span class="n">line</span><span class="o">.</span><span class="n">SetPoint1</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span>
        <span class="n">line</span><span class="o">.</span><span class="n">SetPoint2</span><span class="p">(</span><span class="n">c2</span><span class="p">)</span>
        <span class="n">mapper</span><span class="o">=</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyDataMapper</span><span class="p">()</span>
        <span class="n">mapper</span><span class="o">.</span><span class="n">SetInputConnection</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">GetOutputPort</span><span class="p">())</span>

        <span class="nb">property</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkProperty</span><span class="p">();</span>
        <span class="nb">property</span><span class="o">.</span><span class="n">SetColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>

        <span class="n">actor</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkActor</span><span class="p">()</span>
        <span class="n">actor</span><span class="o">.</span><span class="n">SetMapper</span><span class="p">(</span><span class="n">mapper</span><span class="p">)</span>
        <span class="n">actor</span><span class="o">.</span><span class="n">SetProperty</span><span class="p">(</span><span class="nb">property</span><span class="p">);</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">redLineActors</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">actor</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">AddActor</span><span class="p">(</span><span class="n">actor</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">actor</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.addInputToPolyData"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.addInputToPolyData">[docs]</a>    <span class="k">def</span> <span class="nf">addInputToPolyData</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">appendPoly</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Helper version needed because of changed API in VTK6&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">vtkVersion</span><span class="o">&gt;=</span><span class="mi">6</span><span class="p">:</span>
            <span class="n">appendPoly</span><span class="o">.</span><span class="n">AddInputData</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">appendPoly</span><span class="o">.</span><span class="n">AddInput</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.showTmpBlock"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.showTmpBlock">[docs]</a>    <span class="k">def</span> <span class="nf">showTmpBlock</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add a colored block&quot;&quot;&quot;</span>
        <span class="n">append</span><span class="o">=</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkAppendPolyData</span><span class="p">()</span>
        <span class="n">b</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpBlock</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addInputToPolyData</span><span class="p">(</span><span class="n">append</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">makeFace</span><span class="p">([</span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">3</span><span class="p">]]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addInputToPolyData</span><span class="p">(</span><span class="n">append</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">makeFace</span><span class="p">([</span><span class="n">b</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">7</span><span class="p">]]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addInputToPolyData</span><span class="p">(</span><span class="n">append</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">makeFace</span><span class="p">([</span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">4</span><span class="p">]]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addInputToPolyData</span><span class="p">(</span><span class="n">append</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">makeFace</span><span class="p">([</span><span class="n">b</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">7</span><span class="p">]]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addInputToPolyData</span><span class="p">(</span><span class="n">append</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">makeFace</span><span class="p">([</span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">4</span><span class="p">]]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addInputToPolyData</span><span class="p">(</span><span class="n">append</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">makeFace</span><span class="p">([</span><span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">5</span><span class="p">]]))</span>
        <span class="n">mapper</span><span class="o">=</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyDataMapper</span><span class="p">()</span>
        <span class="n">mapper</span><span class="o">.</span><span class="n">SetInputConnection</span><span class="p">(</span><span class="n">append</span><span class="o">.</span><span class="n">GetOutputPort</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tmpBlockActor</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkActor</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tmpBlockActor</span><span class="o">.</span><span class="n">SetMapper</span><span class="p">(</span><span class="n">mapper</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tmpBlockActor</span><span class="o">.</span><span class="n">GetProperty</span><span class="p">()</span><span class="o">.</span><span class="n">SetColor</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span><span class="mf">1.</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tmpBlockActor</span><span class="o">.</span><span class="n">GetProperty</span><span class="p">()</span><span class="o">.</span><span class="n">SetOpacity</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">AddActor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpBlockActor</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">renWin</span><span class="o">.</span><span class="n">Render</span><span class="p">()</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.showTmpPatch"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.showTmpPatch">[docs]</a>    <span class="k">def</span> <span class="nf">showTmpPatch</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Add a colored patch&quot;&quot;&quot;</span>
        <span class="n">append</span><span class="o">=</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkAppendPolyData</span><span class="p">()</span>
        <span class="n">b</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpPatch</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addInputToPolyData</span><span class="p">(</span><span class="n">append</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">makeFace</span><span class="p">([</span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">3</span><span class="p">]]))</span>
        <span class="n">mapper</span><span class="o">=</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyDataMapper</span><span class="p">()</span>
        <span class="n">mapper</span><span class="o">.</span><span class="n">SetInputConnection</span><span class="p">(</span><span class="n">append</span><span class="o">.</span><span class="n">GetOutputPort</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tmpBlockActor</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkActor</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tmpBlockActor</span><span class="o">.</span><span class="n">SetMapper</span><span class="p">(</span><span class="n">mapper</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tmpBlockActor</span><span class="o">.</span><span class="n">GetProperty</span><span class="p">()</span><span class="o">.</span><span class="n">SetColor</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span><span class="mf">1.</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tmpBlockActor</span><span class="o">.</span><span class="n">GetProperty</span><span class="p">()</span><span class="o">.</span><span class="n">SetOpacity</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">AddActor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpBlockActor</span><span class="p">)</span>


        <span class="n">planeNormals</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyDataNormals</span><span class="p">()</span>
        <span class="n">planeNormals</span><span class="o">.</span><span class="n">SetInputConnection</span><span class="p">(</span><span class="n">append</span><span class="o">.</span><span class="n">GetOutputPort</span><span class="p">())</span>
        <span class="n">planeMapper</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkDataSetMapper</span><span class="p">()</span>
        <span class="n">planeMapper</span><span class="o">.</span><span class="n">SetInputConnection</span><span class="p">(</span><span class="n">planeNormals</span><span class="o">.</span><span class="n">GetOutputPort</span><span class="p">())</span>

        <span class="n">arrowSource</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkArrowSource</span><span class="p">()</span>

        <span class="n">arrowGlyph</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkGlyph3D</span><span class="p">()</span>
        <span class="n">arrowGlyph</span><span class="o">.</span><span class="n">ScalingOn</span><span class="p">()</span>
        <span class="n">arrowGlyph</span><span class="o">.</span><span class="n">SetScaleFactor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blockMesh</span><span class="o">.</span><span class="n">typicalLength</span><span class="p">()</span><span class="o">/</span><span class="mi">4</span><span class="p">)</span>
        <span class="n">arrowGlyph</span><span class="o">.</span><span class="n">SetVectorModeToUseNormal</span><span class="p">()</span>
        <span class="n">arrowGlyph</span><span class="o">.</span><span class="n">SetScaleModeToScaleByVector</span><span class="p">()</span>
        <span class="n">arrowGlyph</span><span class="o">.</span><span class="n">OrientOn</span><span class="p">()</span>
        <span class="n">arrowGlyph</span><span class="o">.</span><span class="n">SetSourceConnection</span><span class="p">(</span><span class="n">arrowSource</span><span class="o">.</span><span class="n">GetOutputPort</span><span class="p">())</span>
        <span class="n">arrowGlyph</span><span class="o">.</span><span class="n">SetInputConnection</span><span class="p">(</span><span class="n">planeNormals</span><span class="o">.</span><span class="n">GetOutputPort</span><span class="p">())</span>

        <span class="sd">&quot;&quot;&quot;</span>



<span class="sd">        &gt;&gt;&gt;</span>
<span class="sd">        &gt;&gt;&gt; # Specify the shape of the glyph</span>
<span class="sd">        &gt;&gt;&gt; vtkArrowSource arrowSource</span>
<span class="sd">        &gt;&gt;&gt;</span>
<span class="sd">        &gt;&gt;&gt; vtkGlyph3D arrowGlyph</span>
<span class="sd">        &gt;&gt;&gt;  arrowGlyph ScalingOn</span>
<span class="sd">        &gt;&gt;&gt;  arrowGlyph SetScaleFactor 0.7</span>
<span class="sd">        &gt;&gt;&gt;  arrowGlyph SetVectorModeToUseNormal</span>
<span class="sd">        &gt;&gt;&gt;  arrowGlyph SetScaleModeToScaleByVector</span>
<span class="sd">        &gt;&gt;&gt;  arrowGlyph OrientOn</span>
<span class="sd">        &gt;&gt;&gt;  arrowGlyph SetSourceConnection [arrowSource GetOutputPort]</span>
<span class="sd">        &gt;&gt;&gt;  arrowGlyph SetInputConnection  [planeNormals GetOutputPort]</span>
<span class="sd">        &gt;&gt;&gt;</span>
<span class="sd">        &gt;&gt;&gt; vtkDataSetMapper arrowGlyphMapper</span>
<span class="sd">        &gt;&gt;&gt;  arrowGlyphMapper SetInputConnection [arrowGlyph GetOutputPort]</span>
<span class="sd">        &gt;&gt;&gt;</span>
<span class="sd">        &gt;&gt;&gt; vtkActor glyphActor</span>
<span class="sd">        &gt;&gt;&gt;  glyphActor SetMapper arrowGlyphMapper</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1">#actor = vtk.vtkActor()</span>
        <span class="c1">#actor.SetMapper(planeMapper);</span>
        <span class="c1">#self.ren.AddActor(actor)</span>

        <span class="n">glyphMapper</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyDataMapper</span><span class="p">()</span>
        <span class="n">glyphMapper</span><span class="o">.</span><span class="n">SetInputConnection</span><span class="p">(</span><span class="n">arrowGlyph</span><span class="o">.</span><span class="n">GetOutputPort</span><span class="p">());</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tmpGlyphActor</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkActor</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tmpGlyphActor</span><span class="o">.</span><span class="n">SetMapper</span><span class="p">(</span><span class="n">glyphMapper</span><span class="p">);</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tmpGlyphActor</span><span class="o">.</span><span class="n">GetProperty</span><span class="p">()</span><span class="o">.</span><span class="n">SetColor</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span> <span class="mf">1.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">AddActor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tmpGlyphActor</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">renWin</span><span class="o">.</span><span class="n">Render</span><span class="p">()</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.blockMesh"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.blockMesh">[docs]</a>    <span class="k">def</span> <span class="nf">blockMesh</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">executeUtility</span><span class="p">(</span><span class="s2">&quot;blockMesh&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.checkMesh"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.checkMesh">[docs]</a>    <span class="k">def</span> <span class="nf">checkMesh</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">executeUtility</span><span class="p">(</span><span class="s2">&quot;checkMesh&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.executeUtility"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.executeUtility">[docs]</a>    <span class="k">def</span> <span class="nf">executeUtility</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">util</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">worker</span><span class="o">!=</span><span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;There seems to be another worker&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setStatus</span><span class="p">(</span><span class="s2">&quot;Executing &quot;</span><span class="o">+</span><span class="n">util</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockMeshAction</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkMeshAction</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">utilityOutput</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">utilityOutput</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;Running &quot;</span><span class="o">+</span><span class="n">util</span><span class="o">+</span><span class="s2">&quot; on case &quot;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">caseDir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">utilityDock</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">worker</span><span class="o">=</span><span class="n">UtilityThread</span><span class="p">(</span><span class="n">argv</span><span class="o">=</span><span class="p">[</span><span class="n">util</span><span class="p">,</span>
                                        <span class="s2">&quot;-case&quot;</span><span class="p">,</span>
                                        <span class="bp">self</span><span class="o">.</span><span class="n">caseDir</span><span class="p">],</span>
                                  <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">worker</span><span class="p">,</span><span class="n">QtCore</span><span class="o">.</span><span class="n">SIGNAL</span><span class="p">(</span><span class="s2">&quot;finished()&quot;</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">executionEnded</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">worker</span><span class="p">,</span><span class="n">QtCore</span><span class="o">.</span><span class="n">SIGNAL</span><span class="p">(</span><span class="s2">&quot;newLine(QString)&quot;</span><span class="p">),</span><span class="bp">self</span><span class="o">.</span><span class="n">utilityOutputAppend</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">worker</span><span class="o">.</span><span class="n">start</span><span class="p">()</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.utilityOutputAppend"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.utilityOutputAppend">[docs]</a>    <span class="k">def</span> <span class="nf">utilityOutputAppend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">line</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">utilityOutput</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.executionEnded"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.executionEnded">[docs]</a>    <span class="k">def</span> <span class="nf">executionEnded</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockMeshAction</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checkMeshAction</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setStatus</span><span class="p">(</span><span class="s2">&quot;Execution of &quot;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">worker</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="s2">&quot; finished&quot;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">worker</span><span class="o">.</span><span class="n">status</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">worker</span><span class="o">=</span><span class="kc">None</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.setStatus"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.setStatus">[docs]</a>    <span class="k">def</span> <span class="nf">setStatus</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">message</span><span class="o">=</span><span class="s2">&quot;Ready&quot;</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isWindowModified</span><span class="p">():</span>
            <span class="n">message</span><span class="o">=</span><span class="s2">&quot;blockMesh modified - &quot;</span><span class="o">+</span><span class="n">message</span>
        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Status:&quot;</span><span class="p">,</span><span class="n">message</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statusBar</span><span class="p">()</span><span class="o">.</span><span class="n">showMessage</span><span class="p">(</span><span class="n">message</span><span class="p">)</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.blockMeshWasModified"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.blockMeshWasModified">[docs]</a>    <span class="k">def</span> <span class="nf">blockMeshWasModified</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">saveAction</span><span class="o">.</span><span class="n">isEnabled</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">saveAction</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rereadAction</span><span class="o">.</span><span class="n">isEnabled</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rereadAction</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rereadButton</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowModified</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setStatus</span><span class="p">()</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.readFile"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.readFile">[docs]</a>    <span class="k">def</span> <span class="nf">readFile</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">resetText</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">resetText</span><span class="p">:</span>
            <span class="n">txt</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fName</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">editor</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">vName</span><span class="p">:</span>
                <span class="n">txt</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vName</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">vEditor</span><span class="o">.</span><span class="n">setPlainText</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowModified</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">alwaysSave</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">saveAction</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rereadAction</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rereadButton</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

        <span class="n">bFile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">fName</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">vName</span><span class="p">:</span>
            <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Evaluating template&quot;</span><span class="p">)</span>
            <span class="n">bFile</span><span class="o">=</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fName</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">template</span><span class="o">=</span><span class="n">TemplateFile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fName</span><span class="p">,</span>
                                  <span class="n">expressionDelimiter</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">opts</span><span class="o">.</span><span class="n">expressionDelimiter</span><span class="p">,</span>
                                  <span class="n">assignmentLineStart</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">opts</span><span class="o">.</span><span class="n">assignmentLineStart</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vName</span><span class="p">):</span>
                <span class="n">vals</span><span class="o">=</span><span class="n">ParsedParameterFile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vName</span><span class="p">,</span>
                                         <span class="n">noHeader</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                         <span class="n">doMacroExpansion</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">getValueDict</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">vals</span><span class="o">=</span><span class="p">{}</span>
            <span class="n">txt</span><span class="o">=</span><span class="n">template</span><span class="o">.</span><span class="n">getString</span><span class="p">(</span><span class="n">vals</span><span class="p">)</span>
            <span class="nb">open</span><span class="p">(</span><span class="n">bFile</span><span class="p">,</span><span class="s2">&quot;w&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">blockMesh</span><span class="o">=</span><span class="n">ParsedBlockMeshDict</span><span class="p">(</span><span class="n">bFile</span><span class="p">,</span>
                                           <span class="n">doMacroExpansion</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">blockMesh</span><span class="o">.</span><span class="n">vertices</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vActors</span><span class="o">=</span><span class="p">[</span><span class="kc">None</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tActors</span><span class="o">=</span><span class="p">[</span><span class="kc">None</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spheres</span><span class="o">=</span><span class="p">[</span><span class="kc">None</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">blocks</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">blockMesh</span><span class="o">.</span><span class="n">blocks</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">patches</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">blockMesh</span><span class="o">.</span><span class="n">patches</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">vRadius</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">blockMesh</span><span class="o">.</span><span class="n">typicalLength</span><span class="p">()</span><span class="o">/</span><span class="mi">50</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">addVertex</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setAxes</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">undefined</span><span class="o">=</span><span class="p">[]</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blocks</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">addBlock</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blockMesh</span><span class="o">.</span><span class="n">arcs</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">makeArc</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">undefined</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">undefinedActor</span><span class="o">.</span><span class="n">SetInput</span><span class="p">(</span><span class="s2">&quot;Undefined vertices: &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">undefined</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">undefinedActor</span><span class="o">.</span><span class="n">SetInput</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setStatus</span><span class="p">(</span><span class="s2">&quot;Read file&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.saveBlockMesh"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.saveBlockMesh">[docs]</a>    <span class="k">def</span> <span class="nf">saveBlockMesh</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">txt</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">editor</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">())</span>
        <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fName</span><span class="p">,</span><span class="s2">&quot;w&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">vName</span><span class="p">:</span>
            <span class="n">txt</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vEditor</span><span class="o">.</span><span class="n">toPlainText</span><span class="p">())</span>
            <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vName</span><span class="p">,</span><span class="s2">&quot;w&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">reread</span><span class="p">(</span><span class="n">resetText</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setStatus</span><span class="p">(</span><span class="s2">&quot;Saved file&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.addUndefined"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.addUndefined">[docs]</a>    <span class="k">def</span> <span class="nf">addUndefined</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">i</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">undefined</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">undefined</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.addProps"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.addProps">[docs]</a>    <span class="k">def</span> <span class="nf">addProps</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">AddViewProp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">AddActor2D</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">patchTextActor</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">AddActor2D</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">undefinedActor</span><span class="p">)</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.numberScaleChanged"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.numberScaleChanged">[docs]</a>    <span class="k">def</span> <span class="nf">numberScaleChanged</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">scale</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">numberScale</span><span class="o">=</span><span class="n">scale</span>
        <span class="k">for</span> <span class="n">tActor</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tActors</span><span class="p">:</span>
            <span class="n">tActor</span><span class="o">.</span><span class="n">SetScale</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">numberScale</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">vRadius</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">numberScale</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">vRadius</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">numberScale</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">vRadius</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">renWin</span><span class="o">.</span><span class="n">Render</span><span class="p">()</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.pointScaleChanged"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.pointScaleChanged">[docs]</a>    <span class="k">def</span> <span class="nf">pointScaleChanged</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">scale</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pointScale</span><span class="o">=</span><span class="n">scale</span>
        <span class="k">for</span> <span class="n">sphere</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">spheres</span><span class="p">:</span>
            <span class="n">sphere</span><span class="o">.</span><span class="n">SetRadius</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vRadius</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">pointScale</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">renWin</span><span class="o">.</span><span class="n">Render</span><span class="p">()</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.axisLabelScaleChanged"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.axisLabelScaleChanged">[docs]</a>    <span class="k">def</span> <span class="nf">axisLabelScaleChanged</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">scale</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axisLabelScale</span><span class="o">=</span><span class="n">scale</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">blockTextActor</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blockTextActor</span><span class="p">:</span>
                <span class="n">t</span><span class="o">.</span><span class="n">SetScale</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">axisLabelScale</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">vRadius</span><span class="p">,</span>
                           <span class="bp">self</span><span class="o">.</span><span class="n">axisLabelScale</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">vRadius</span><span class="p">,</span>
                           <span class="bp">self</span><span class="o">.</span><span class="n">axisLabelScale</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">vRadius</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">renWin</span><span class="o">.</span><span class="n">Render</span><span class="p">()</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.axisTubeScaleChanged"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.axisTubeScaleChanged">[docs]</a>    <span class="k">def</span> <span class="nf">axisTubeScaleChanged</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">scale</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">axisTubeScale</span><span class="o">=</span><span class="n">scale</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">blockAxisActor</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blockAxisActor</span><span class="p">:</span>
                <span class="n">t</span><span class="o">.</span><span class="n">SetRadius</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vRadius</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">axisTubeScale</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">renWin</span><span class="o">.</span><span class="n">Render</span><span class="p">()</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.addPoint"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.addPoint">[docs]</a>    <span class="k">def</span> <span class="nf">addPoint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">coord</span><span class="p">,</span><span class="n">factor</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">sphere</span><span class="o">=</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkSphereSource</span><span class="p">()</span>
        <span class="n">sphere</span><span class="o">.</span><span class="n">SetRadius</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vRadius</span><span class="o">*</span><span class="n">factor</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">pointScale</span><span class="p">)</span>
        <span class="n">sphere</span><span class="o">.</span><span class="n">SetCenter</span><span class="p">(</span><span class="n">coord</span><span class="p">)</span>
        <span class="n">mapper</span><span class="o">=</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyDataMapper</span><span class="p">()</span>
        <span class="n">mapper</span><span class="o">.</span><span class="n">SetInputConnection</span><span class="p">(</span><span class="n">sphere</span><span class="o">.</span><span class="n">GetOutputPort</span><span class="p">())</span>
        <span class="n">actor</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkActor</span><span class="p">()</span>
        <span class="n">actor</span><span class="o">.</span><span class="n">SetMapper</span><span class="p">(</span><span class="n">mapper</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">AddActor</span><span class="p">(</span><span class="n">actor</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">sphere</span><span class="p">,</span><span class="n">actor</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.addVertex"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.addVertex">[docs]</a>    <span class="k">def</span> <span class="nf">addVertex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">index</span><span class="p">):</span>
        <span class="n">coord</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">spheres</span><span class="p">[</span><span class="n">index</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">vActors</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">addPoint</span><span class="p">(</span><span class="n">coord</span><span class="p">)</span>
        <span class="n">text</span><span class="o">=</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkVectorText</span><span class="p">()</span>
        <span class="n">text</span><span class="o">.</span><span class="n">SetText</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">index</span><span class="p">))</span>
        <span class="n">tMapper</span><span class="o">=</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyDataMapper</span><span class="p">()</span>
        <span class="n">tMapper</span><span class="o">.</span><span class="n">SetInputConnection</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">GetOutputPort</span><span class="p">())</span>
        <span class="n">tActor</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkFollower</span><span class="p">()</span>
        <span class="n">tActor</span><span class="o">.</span><span class="n">SetMapper</span><span class="p">(</span><span class="n">tMapper</span><span class="p">)</span>
        <span class="n">tActor</span><span class="o">.</span><span class="n">SetScale</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">numberScale</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">vRadius</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">numberScale</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">vRadius</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">numberScale</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">vRadius</span><span class="p">)</span>
        <span class="n">tActor</span><span class="o">.</span><span class="n">AddPosition</span><span class="p">(</span><span class="n">coord</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">vRadius</span><span class="p">,</span><span class="n">coord</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">vRadius</span><span class="p">,</span><span class="n">coord</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">vRadius</span><span class="p">)</span>
        <span class="n">tActor</span><span class="o">.</span><span class="n">SetCamera</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cam</span><span class="p">)</span>
        <span class="n">tActor</span><span class="o">.</span><span class="n">GetProperty</span><span class="p">()</span><span class="o">.</span><span class="n">SetColor</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tActors</span><span class="p">[</span><span class="n">index</span><span class="p">]</span><span class="o">=</span><span class="n">tActor</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">AddActor</span><span class="p">(</span><span class="n">tActor</span><span class="p">)</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.addLine"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.addLine">[docs]</a>    <span class="k">def</span> <span class="nf">addLine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">index1</span><span class="p">,</span><span class="n">index2</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">c1</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">[</span><span class="n">index1</span><span class="p">]</span>
            <span class="n">c2</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">[</span><span class="n">index2</span><span class="p">]</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">index1</span><span class="o">&gt;=</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">addUndefined</span><span class="p">(</span><span class="n">index1</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">index2</span><span class="o">&gt;=</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">addUndefined</span><span class="p">(</span><span class="n">index2</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">line</span><span class="o">=</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkLineSource</span><span class="p">()</span>
        <span class="n">line</span><span class="o">.</span><span class="n">SetPoint1</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span>
        <span class="n">line</span><span class="o">.</span><span class="n">SetPoint2</span><span class="p">(</span><span class="n">c2</span><span class="p">)</span>
        <span class="n">mapper</span><span class="o">=</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyDataMapper</span><span class="p">()</span>
        <span class="n">mapper</span><span class="o">.</span><span class="n">SetInputConnection</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">GetOutputPort</span><span class="p">())</span>
        <span class="n">actor</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkActor</span><span class="p">()</span>
        <span class="n">actor</span><span class="o">.</span><span class="n">SetMapper</span><span class="p">(</span><span class="n">mapper</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">AddActor</span><span class="p">(</span><span class="n">actor</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">actor</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.makeDirection"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.makeDirection">[docs]</a>    <span class="k">def</span> <span class="nf">makeDirection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">index1</span><span class="p">,</span><span class="n">index2</span><span class="p">,</span><span class="n">label</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">c1</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">[</span><span class="n">index1</span><span class="p">]</span>
            <span class="n">c2</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">[</span><span class="n">index2</span><span class="p">]</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span><span class="p">,</span><span class="kc">None</span>
        <span class="n">line</span><span class="o">=</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkLineSource</span><span class="p">()</span>
        <span class="n">line</span><span class="o">.</span><span class="n">SetPoint1</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span>
        <span class="n">line</span><span class="o">.</span><span class="n">SetPoint2</span><span class="p">(</span><span class="n">c2</span><span class="p">)</span>
        <span class="n">tube</span><span class="o">=</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkTubeFilter</span><span class="p">()</span>
        <span class="n">tube</span><span class="o">.</span><span class="n">SetRadius</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vRadius</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">axisTubeScale</span><span class="p">)</span>
        <span class="n">tube</span><span class="o">.</span><span class="n">SetNumberOfSides</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">tube</span><span class="o">.</span><span class="n">SetInputConnection</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">GetOutputPort</span><span class="p">())</span>
        <span class="n">text</span><span class="o">=</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkVectorText</span><span class="p">()</span>
        <span class="n">text</span><span class="o">.</span><span class="n">SetText</span><span class="p">(</span><span class="n">label</span><span class="p">)</span>
        <span class="n">tMapper</span><span class="o">=</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyDataMapper</span><span class="p">()</span>
        <span class="n">tMapper</span><span class="o">.</span><span class="n">SetInputConnection</span><span class="p">(</span><span class="n">text</span><span class="o">.</span><span class="n">GetOutputPort</span><span class="p">())</span>
        <span class="n">tActor</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkFollower</span><span class="p">()</span>
        <span class="n">tActor</span><span class="o">.</span><span class="n">SetMapper</span><span class="p">(</span><span class="n">tMapper</span><span class="p">)</span>
        <span class="n">tActor</span><span class="o">.</span><span class="n">SetScale</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">axisLabelScale</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">vRadius</span><span class="p">,</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">axisLabelScale</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">vRadius</span><span class="p">,</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">axisLabelScale</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">vRadius</span><span class="p">)</span>
        <span class="n">tActor</span><span class="o">.</span><span class="n">AddPosition</span><span class="p">((</span><span class="n">c1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">c2</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">vRadius</span><span class="p">,</span>
                           <span class="p">(</span><span class="n">c1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">c2</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">vRadius</span><span class="p">,</span>
                           <span class="p">(</span><span class="n">c1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="n">c2</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">vRadius</span><span class="p">)</span>
        <span class="n">tActor</span><span class="o">.</span><span class="n">SetCamera</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cam</span><span class="p">)</span>
        <span class="n">tActor</span><span class="o">.</span><span class="n">GetProperty</span><span class="p">()</span><span class="o">.</span><span class="n">SetColor</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">tube</span><span class="p">,</span><span class="n">tActor</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.makeSpline"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.makeSpline">[docs]</a>    <span class="k">def</span> <span class="nf">makeSpline</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">lst</span><span class="p">):</span>
        <span class="n">points</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPoints</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lst</span><span class="p">)):</span>
            <span class="n">v</span><span class="o">=</span><span class="n">lst</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">points</span><span class="o">.</span><span class="n">InsertPoint</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="n">spline</span><span class="o">=</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkParametricSpline</span><span class="p">()</span>
        <span class="n">spline</span><span class="o">.</span><span class="n">SetPoints</span><span class="p">(</span><span class="n">points</span><span class="p">)</span>
        <span class="n">spline</span><span class="o">.</span><span class="n">ClosedOff</span><span class="p">()</span>
        <span class="n">splineSource</span><span class="o">=</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkParametricFunctionSource</span><span class="p">()</span>
        <span class="n">splineSource</span><span class="o">.</span><span class="n">SetParametricFunction</span><span class="p">(</span><span class="n">spline</span><span class="p">)</span>
        <span class="n">mapper</span><span class="o">=</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyDataMapper</span><span class="p">()</span>
        <span class="n">mapper</span><span class="o">.</span><span class="n">SetInputConnection</span><span class="p">(</span><span class="n">splineSource</span><span class="o">.</span><span class="n">GetOutputPort</span><span class="p">())</span>
        <span class="n">actor</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkActor</span><span class="p">()</span>
        <span class="n">actor</span><span class="o">.</span><span class="n">SetMapper</span><span class="p">(</span><span class="n">mapper</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">AddActor</span><span class="p">(</span><span class="n">actor</span><span class="p">)</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.makeArc"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.makeArc">[docs]</a>    <span class="k">def</span> <span class="nf">makeArc</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">data</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">makeSpline</span><span class="p">([</span><span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]]])</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">&gt;=</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">addUndefined</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">&gt;=</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">addUndefined</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">addPoint</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">factor</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.makeFace"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.makeFace">[docs]</a>    <span class="k">def</span> <span class="nf">makeFace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">lst</span><span class="p">):</span>
        <span class="n">points</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkPoints</span><span class="p">()</span>
        <span class="n">side</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkCellArray</span><span class="p">()</span>
        <span class="n">side</span><span class="o">.</span><span class="n">InsertNextCell</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lst</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">lst</span><span class="p">)):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">v</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">vertices</span><span class="p">[</span><span class="n">lst</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">addUndefined</span><span class="p">(</span><span class="n">lst</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="k">return</span> <span class="kc">None</span>
            <span class="n">points</span><span class="o">.</span><span class="n">InsertPoint</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
            <span class="n">side</span><span class="o">.</span><span class="n">InsertCellPoint</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="n">result</span><span class="o">=</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyData</span><span class="p">()</span>
        <span class="n">result</span><span class="o">.</span><span class="n">SetPoints</span><span class="p">(</span><span class="n">points</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">SetPolys</span><span class="p">(</span><span class="n">side</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.addBlock"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.addBlock">[docs]</a>    <span class="k">def</span> <span class="nf">addBlock</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">index</span><span class="p">):</span>
        <span class="n">b</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">blocks</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">addLine</span><span class="p">(</span><span class="n">b</span><span class="p">[</span> <span class="mi">0</span><span class="p">],</span><span class="n">b</span><span class="p">[</span> <span class="mi">1</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addLine</span><span class="p">(</span><span class="n">b</span><span class="p">[</span> <span class="mi">3</span><span class="p">],</span><span class="n">b</span><span class="p">[</span> <span class="mi">2</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addLine</span><span class="p">(</span><span class="n">b</span><span class="p">[</span> <span class="mi">7</span><span class="p">],</span><span class="n">b</span><span class="p">[</span> <span class="mi">6</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addLine</span><span class="p">(</span><span class="n">b</span><span class="p">[</span> <span class="mi">4</span><span class="p">],</span><span class="n">b</span><span class="p">[</span> <span class="mi">5</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addLine</span><span class="p">(</span><span class="n">b</span><span class="p">[</span> <span class="mi">0</span><span class="p">],</span><span class="n">b</span><span class="p">[</span> <span class="mi">3</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addLine</span><span class="p">(</span><span class="n">b</span><span class="p">[</span> <span class="mi">1</span><span class="p">],</span><span class="n">b</span><span class="p">[</span> <span class="mi">2</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addLine</span><span class="p">(</span><span class="n">b</span><span class="p">[</span> <span class="mi">5</span><span class="p">],</span><span class="n">b</span><span class="p">[</span> <span class="mi">6</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addLine</span><span class="p">(</span><span class="n">b</span><span class="p">[</span> <span class="mi">4</span><span class="p">],</span><span class="n">b</span><span class="p">[</span> <span class="mi">7</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addLine</span><span class="p">(</span><span class="n">b</span><span class="p">[</span> <span class="mi">0</span><span class="p">],</span><span class="n">b</span><span class="p">[</span> <span class="mi">4</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addLine</span><span class="p">(</span><span class="n">b</span><span class="p">[</span> <span class="mi">1</span><span class="p">],</span><span class="n">b</span><span class="p">[</span> <span class="mi">5</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addLine</span><span class="p">(</span><span class="n">b</span><span class="p">[</span> <span class="mi">2</span><span class="p">],</span><span class="n">b</span><span class="p">[</span> <span class="mi">6</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addLine</span><span class="p">(</span><span class="n">b</span><span class="p">[</span> <span class="mi">3</span><span class="p">],</span><span class="n">b</span><span class="p">[</span> <span class="mi">7</span><span class="p">])</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.setAxes"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.setAxes">[docs]</a>    <span class="k">def</span> <span class="nf">setAxes</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">append</span><span class="o">=</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkAppendPolyData</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">vActors</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">a</span><span class="o">!=</span><span class="kc">None</span><span class="p">:</span>
                <span class="n">append</span><span class="o">.</span><span class="n">AddInputConnection</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">GetMapper</span><span class="p">()</span><span class="o">.</span><span class="n">GetOutputPort</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">vtkVersion</span><span class="o">&gt;=</span><span class="mi">6</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">SetInputConnection</span><span class="p">(</span><span class="n">append</span><span class="o">.</span><span class="n">GetOutputPort</span><span class="p">())</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">axes</span><span class="o">.</span><span class="n">SetInput</span><span class="p">(</span><span class="n">append</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">())</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.reread"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.reread">[docs]</a>    <span class="k">def</span> <span class="nf">reread</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">resetText</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">RemoveAllViewProps</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">patchActor</span><span class="o">=</span><span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockActor</span><span class="o">=</span><span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockAxisActor</span><span class="o">=</span><span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">blockTextActor</span><span class="o">=</span><span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addProps</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">readFile</span><span class="p">(</span><span class="n">resetText</span><span class="o">=</span><span class="n">resetText</span><span class="p">)</span>

            <span class="n">tmpBlock</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">scroll</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">tmpBlock</span><span class="o">&lt;</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blocks</span><span class="p">):</span>
                <span class="n">tmpBlock</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blocks</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scroll</span><span class="o">.</span><span class="n">setRange</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blocks</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scroll</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">tmpBlock</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">colorBlock</span><span class="p">(</span><span class="n">tmpBlock</span><span class="p">)</span>

            <span class="n">tmpPatch</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">scroll2</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">tmpPatch</span><span class="o">&lt;</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">patches</span><span class="o">.</span><span class="n">keys</span><span class="p">())):</span>
                <span class="n">tmpPatch</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">patches</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span><span class="o">-</span><span class="mi">1</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scroll2</span><span class="o">.</span><span class="n">setRange</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">patches</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scroll2</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">tmpPatch</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">colorPatch</span><span class="p">(</span><span class="n">tmpPatch</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">renWin</span><span class="o">.</span><span class="n">Render</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="n">e</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># Needed because python 2.5 does not support &#39;as e&#39;</span>
            <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Problem rereading:&quot;</span><span class="p">,</span><span class="n">e</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">setStatus</span><span class="p">(</span><span class="s2">&quot;Problem:&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
            <span class="k">raise</span> <span class="n">e</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.colorBlock"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.colorBlock">[docs]</a>    <span class="k">def</span> <span class="nf">colorBlock</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">value</span><span class="p">):</span>
        <span class="n">newBlock</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">oldBlock</span><span class="o">&gt;=</span><span class="mi">0</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">blockActor</span><span class="o">!=</span><span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">RemoveActor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blockActor</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">ta</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">blockTextActor</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">RemoveActor</span><span class="p">(</span><span class="n">ta</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blockActor</span><span class="o">=</span><span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blockTextActor</span><span class="o">=</span><span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blockAxisActor</span><span class="o">=</span><span class="kc">None</span>
        <span class="k">if</span> <span class="n">newBlock</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">:</span>
            <span class="n">append</span><span class="o">=</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkAppendPolyData</span><span class="p">()</span>
            <span class="n">b</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">blocks</span><span class="p">[</span><span class="n">newBlock</span><span class="p">]</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">addInputToPolyData</span><span class="p">(</span><span class="n">append</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">makeFace</span><span class="p">([</span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">3</span><span class="p">]]))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">addInputToPolyData</span><span class="p">(</span><span class="n">append</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">makeFace</span><span class="p">([</span><span class="n">b</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">7</span><span class="p">]]))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">addInputToPolyData</span><span class="p">(</span><span class="n">append</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">makeFace</span><span class="p">([</span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">4</span><span class="p">]]))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">addInputToPolyData</span><span class="p">(</span><span class="n">append</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">makeFace</span><span class="p">([</span><span class="n">b</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">7</span><span class="p">]]))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">addInputToPolyData</span><span class="p">(</span><span class="n">append</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">makeFace</span><span class="p">([</span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">4</span><span class="p">]]))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">addInputToPolyData</span><span class="p">(</span><span class="n">append</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">makeFace</span><span class="p">([</span><span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">5</span><span class="p">]]))</span>
            <span class="n">d1</span><span class="p">,</span><span class="n">t1</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">makeDirection</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="s2">&quot;x1&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">addInputToPolyData</span><span class="p">(</span><span class="n">append</span><span class="p">,</span><span class="n">d1</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">AddActor</span><span class="p">(</span><span class="n">t1</span><span class="p">)</span>
            <span class="n">d2</span><span class="p">,</span><span class="n">t2</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">makeDirection</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span><span class="s2">&quot;x2&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">addInputToPolyData</span><span class="p">(</span><span class="n">append</span><span class="p">,</span><span class="n">d2</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">AddActor</span><span class="p">(</span><span class="n">t2</span><span class="p">)</span>
            <span class="n">d3</span><span class="p">,</span><span class="n">t3</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">makeDirection</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span><span class="s2">&quot;x3&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">addInputToPolyData</span><span class="p">(</span><span class="n">append</span><span class="p">,</span><span class="n">d3</span><span class="o">.</span><span class="n">GetOutput</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">AddActor</span><span class="p">(</span><span class="n">t3</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blockTextActor</span><span class="o">=</span><span class="p">(</span><span class="n">t1</span><span class="p">,</span><span class="n">t2</span><span class="p">,</span><span class="n">t3</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blockAxisActor</span><span class="o">=</span><span class="p">(</span><span class="n">d1</span><span class="p">,</span><span class="n">d2</span><span class="p">,</span><span class="n">d3</span><span class="p">)</span>
            <span class="n">mapper</span><span class="o">=</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyDataMapper</span><span class="p">()</span>
            <span class="n">mapper</span><span class="o">.</span><span class="n">SetInputConnection</span><span class="p">(</span><span class="n">append</span><span class="o">.</span><span class="n">GetOutputPort</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blockActor</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkActor</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blockActor</span><span class="o">.</span><span class="n">SetMapper</span><span class="p">(</span><span class="n">mapper</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blockActor</span><span class="o">.</span><span class="n">GetProperty</span><span class="p">()</span><span class="o">.</span><span class="n">SetColor</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span><span class="mf">1.</span><span class="p">,</span><span class="mf">0.</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">blockActor</span><span class="o">.</span><span class="n">GetProperty</span><span class="p">()</span><span class="o">.</span><span class="n">SetOpacity</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">AddActor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">blockActor</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">oldBlock</span><span class="o">=</span><span class="n">newBlock</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">renWin</span><span class="o">.</span><span class="n">Render</span><span class="p">()</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.colorPatch"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.colorPatch">[docs]</a>    <span class="k">def</span> <span class="nf">colorPatch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">value</span><span class="p">):</span>
        <span class="n">newPatch</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">oldPatch</span><span class="o">&gt;=</span><span class="mi">0</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">patchActor</span><span class="o">!=</span><span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">RemoveActor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">patchActor</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">patchActor</span><span class="o">=</span><span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">patchTextActor</span><span class="o">.</span><span class="n">SetInput</span><span class="p">(</span><span class="s2">&quot;Patch: &lt;none&gt;&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">newPatch</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">:</span>
            <span class="n">name</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">patches</span><span class="o">.</span><span class="n">keys</span><span class="p">())[</span><span class="n">newPatch</span><span class="p">]</span>
            <span class="n">subs</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">patches</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>
            <span class="n">append</span><span class="o">=</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkAppendPolyData</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">subs</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">addInputToPolyData</span><span class="p">(</span><span class="n">append</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">makeFace</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
            <span class="n">mapper</span><span class="o">=</span><span class="n">vtk</span><span class="o">.</span><span class="n">vtkPolyDataMapper</span><span class="p">()</span>
            <span class="n">mapper</span><span class="o">.</span><span class="n">SetInputConnection</span><span class="p">(</span><span class="n">append</span><span class="o">.</span><span class="n">GetOutputPort</span><span class="p">())</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">patchActor</span> <span class="o">=</span> <span class="n">vtk</span><span class="o">.</span><span class="n">vtkActor</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">patchActor</span><span class="o">.</span><span class="n">SetMapper</span><span class="p">(</span><span class="n">mapper</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">patchActor</span><span class="o">.</span><span class="n">GetProperty</span><span class="p">()</span><span class="o">.</span><span class="n">SetColor</span><span class="p">(</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">,</span><span class="mf">1.</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">patchActor</span><span class="o">.</span><span class="n">GetProperty</span><span class="p">()</span><span class="o">.</span><span class="n">SetOpacity</span><span class="p">(</span><span class="mf">0.3</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ren</span><span class="o">.</span><span class="n">AddActor</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">patchActor</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">patchTextActor</span><span class="o">.</span><span class="n">SetInput</span><span class="p">(</span><span class="s2">&quot;Patch: &quot;</span><span class="o">+</span><span class="n">name</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">oldPatch</span><span class="o">=</span><span class="n">newPatch</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">renWin</span><span class="o">.</span><span class="n">Render</span><span class="p">()</span></div>

<div class="viewcode-block" id="DisplayBlockMeshDialog.closeEvent"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMeshDialog.closeEvent">[docs]</a>    <span class="k">def</span> <span class="nf">closeEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
        <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Closing and saving settings to&quot;</span><span class="p">,</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QSettings</span><span class="p">()</span><span class="o">.</span><span class="n">fileName</span><span class="p">())</span>
        <span class="n">QtCore</span><span class="o">.</span><span class="n">QSettings</span><span class="p">()</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="s2">&quot;geometry&quot;</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">saveGeometry</span><span class="p">())</span>
        <span class="n">QtCore</span><span class="o">.</span><span class="n">QSettings</span><span class="p">()</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="s2">&quot;state&quot;</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">saveState</span><span class="p">())</span></div></div>

<div class="viewcode-block" id="DisplayBlockMesh"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMesh">[docs]</a><span class="k">class</span> <span class="nc">DisplayBlockMesh</span><span class="p">(</span><span class="n">PyFoamApplicationQt4</span><span class="p">,</span>
                       <span class="n">CommonTemplateFormat</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">description</span><span class="o">=</span><span class="s2">&quot;&quot;&quot;</span><span class="se">\</span>
<span class="s2">Reads the contents of a blockMeshDict-file and displays the vertices</span>
<span class="s2">as spheres (with numbers). The blocks are sketched by lines. One block</span>
<span class="s2">can be seceted with a slider. It will be displayed as a green cube</span>
<span class="s2">with the local directions x1,x2 and x3. Also a patch that is selected</span>
<span class="s2">by a slider will be sketched by blue squares</span>

<span class="s2">This is a new version with a QT-GUI</span>
<span class="s2">        &quot;&quot;&quot;</span>

        <span class="nb">super</span><span class="p">(</span><span class="n">DisplayBlockMesh</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
                                              <span class="n">usage</span><span class="o">=</span><span class="s2">&quot;%prog [options] &lt;blockMeshDict&gt;&quot;</span><span class="p">,</span>
                                              <span class="n">interspersed</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                                              <span class="n">nr</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<div class="viewcode-block" id="DisplayBlockMesh.addOptions"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMesh.addOptions">[docs]</a>    <span class="k">def</span> <span class="nf">addOptions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">template</span><span class="o">=</span><span class="n">OptionGroup</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">parser</span><span class="p">,</span>
                             <span class="s2">&quot;Template mode&quot;</span><span class="p">,</span>
                             <span class="s2">&quot;Additional input for template mode where the edited file is a template that can be processed with the pyFoamFromTemplate.py-utility&quot;</span><span class="p">)</span>
        <span class="n">template</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s2">&quot;--values-file&quot;</span><span class="p">,</span>
                            <span class="n">dest</span><span class="o">=</span><span class="s2">&quot;valuesFile&quot;</span><span class="p">,</span>
                            <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store&quot;</span><span class="p">,</span>
                            <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="n">help</span><span class="o">=</span><span class="s2">&quot;File with the values to be used in the template. If specified the application runs in template mode&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">add_option_group</span><span class="p">(</span><span class="n">template</span><span class="p">)</span>

        <span class="n">CommonTemplateFormat</span><span class="o">.</span><span class="n">addOptions</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="DisplayBlockMesh.setupGUI"><a class="viewcode-back" href="../../../api/PyFoam.Applications.DisplayBlockMeshQt.html#PyFoam.Applications.DisplayBlockMeshQt.DisplayBlockMesh.setupGUI">[docs]</a>    <span class="k">def</span> <span class="nf">setupGUI</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">print_</span><span class="p">(</span><span class="n">usedVTK</span><span class="p">)</span>

        <span class="n">bmFile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">parser</span><span class="o">.</span><span class="n">getArgs</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">bmFile</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">bmFile</span><span class="p">,</span><span class="s2">&quot;not found&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">opts</span><span class="o">.</span><span class="n">valuesFile</span><span class="p">:</span>
            <span class="n">print_</span><span class="p">(</span><span class="s2">&quot;Running in template mode&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">bmFile</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="s2">&quot;&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Specified template file&quot;</span><span class="p">,</span><span class="n">bmFile</span><span class="p">,</span>
                           <span class="s2">&quot;has no extension&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">=</span><span class="n">DisplayBlockMeshDialog</span><span class="p">(</span><span class="n">bmFile</span><span class="p">,</span>
                                               <span class="n">opts</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">opts</span><span class="p">,</span>
                                               <span class="n">valuesFile</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">opts</span><span class="o">.</span><span class="n">valuesFile</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">IOError</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Problem with blockMesh file&quot;</span><span class="p">,</span><span class="n">bmFile</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dialog</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div></div>

<span class="c1"># Should work with Python3</span>
</pre></div>

           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Bernhard F.W. Gschaider.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'0.6.11-development',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>